{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/actions/ChatPanelActions.js","app/actions/GrumbleFormActions.js","app/actions/GrumbleStreamActions.js","app/actions/HomeActions.js","app/actions/LoginActions.js","app/actions/SignupActions.js","app/alt.js","app/components/App.js","app/components/ChatPanel.js","app/components/CommentForm.js","app/components/Footer.js","app/components/GrumbleForm.js","app/components/GrumbleStream.js","app/components/Home.js","app/components/Login.js","app/components/Navbar.js","app/components/Signup.js","app/main.js","app/routes.js","app/stores/ChatPanelStore.js","app/stores/GrumbleFormStore.js","app/stores/GrumbleStreamStore.js","app/stores/HomeStore.js","app/stores/LoginStore.js","app/stores/SignupStore.js","node_modules/deep-equal/index.js","node_modules/deep-equal/lib/is_arguments.js","node_modules/deep-equal/lib/keys.js","node_modules/history/lib/Actions.js","node_modules/history/lib/AsyncUtils.js","node_modules/history/lib/DOMStateStorage.js","node_modules/history/lib/DOMUtils.js","node_modules/history/lib/ExecutionEnvironment.js","node_modules/history/lib/createBrowserHistory.js","node_modules/history/lib/createDOMHistory.js","node_modules/history/lib/createHistory.js","node_modules/history/lib/createLocation.js","node_modules/history/lib/deprecate.js","node_modules/history/lib/extractPath.js","node_modules/history/lib/parsePath.js","node_modules/history/lib/runTransitionHook.js","node_modules/invariant/browser.js","node_modules/process/browser.js","node_modules/warning/browser.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import alt from '../alt';\r\n\r\nclass ChatPanelActions {\r\n  constructor() {\r\n    this.generateActions(\r\n      'updateUsername',\r\n      'updateText',\r\n      'updateOnlineUsers',\r\n      'updateMessages',\r\n      'addMessage',\r\n      'clearText'\r\n    );\r\n  }\r\n}\r\n\r\nexport default alt.createActions(ChatPanelActions);","import alt from '../alt';\r\n\r\nclass GrumbleFormActions {\r\n    constructor() {\r\n        this.generateActions(\r\n            'updateText',\r\n            'updateAnnoyanceLevel',\r\n            'addGrumbleSuccess',\r\n            'addGrumbleFail'\r\n        );\r\n    }\r\n\r\n    addGrumble(username, text, annoyanceLevel) {\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: '/api/grumble',\r\n            data: { \r\n                    username: username, \r\n                    text: text, \r\n                    annoyanceLevel: annoyanceLevel \r\n                }\r\n        })\r\n        .done((data) => {\r\n            this.actions.addGrumbleSuccess(data.message);\r\n        })\r\n        .fail((data) => {\r\n            this.actions.addGrumbleFail(data.message);\r\n        });\r\n    }\r\n}\r\n\r\nexport default alt.createActions(GrumbleFormActions);","import alt from '../alt';\r\n\r\nclass GrumbleStreamActions {\r\n    constructor() {\r\n        this.generateActions(\r\n          'getGrumblesSuccess',\r\n          'getGrumblesFail',\r\n          'updateCommentFormUsername',\r\n          'updateCommentFormText',\r\n          'incrementNewGrumbleCount',\r\n          'hideComments'\r\n        );\r\n    }\r\n\r\n    getGrumbles() {\r\n        $.ajax({ url: '/api/grumbles' })\r\n          .done(data => {\r\n            this.actions.getGrumblesSuccess(data);\r\n          })\r\n          .fail(data => {\r\n            console.log('fail');\r\n          });\r\n    }\r\n\r\n    updateGrumbles(count) {\r\n      console.log('get.. ' + count);\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: '/api/grumbles/more',\r\n            data: { \r\n                    count: count\r\n                }\r\n        })\r\n          .done(data => {\r\n            this.actions.getGrumblesSuccess(data);\r\n          })\r\n          .fail(data => {\r\n            console.log('fail');\r\n          });\r\n    }\r\n\r\n    addComment(grumbleId, username, text) {\r\n        $.ajax({\r\n            type: 'PUT',\r\n            url: '/api/grumble/comment',\r\n            data: { \r\n                    grumbleId: grumbleId,\r\n                    username: username, \r\n                    text: text\r\n                }\r\n        })\r\n        .done(() => {\r\n            console.log('success');\r\n            this.actions.getGrumbles();\r\n        })\r\n        .fail(() => {\r\n        });\r\n    }\r\n}\r\n\r\nexport default alt.createActions(GrumbleStreamActions);","import alt from '../alt';\r\n\r\nclass HomeActions {\r\n  constructor() {\r\n    this.generateActions(\r\n    \t'updateUsername',\r\n    \t'updateNewGrumbleCount'\r\n    );\r\n  }\r\n}\r\n\r\nexport default alt.createActions(HomeActions);","import alt from '../alt';\r\n\r\nclass LoginActions {\r\n  constructor() {\r\n    this.generateActions(\r\n      'updateUsername',\r\n      'updatePassword'\r\n    );\r\n  }\r\n}\r\n\r\nexport default alt.createActions(LoginActions);","import alt from '../alt';\r\n\r\nclass SignupActions {\r\n  constructor() {\r\n    this.generateActions(\r\n      'updateUsername',\r\n      'updatePassword'\r\n    );\r\n  }\r\n}\r\n\r\nexport default alt.createActions(SignupActions);","import Alt from 'alt';\r\n\r\nexport default new Alt();","import React from 'react';\r\nimport Navbar from './Navbar';\r\nimport Footer from './Footer';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n  \t\t<Navbar history={this.props.history} />\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ChatPanelStore from '../stores/ChatPanelStore'\r\nimport ChatPanelActions from '../actions/ChatPanelActions';\r\n\r\nclass ChatPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ChatPanelStore.getState();\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        ChatPanelStore.listen(this.onChange);\r\n\r\n        let socket = io();\r\n        \r\n        socket.on('onlineUsers', (data) => {\r\n          ChatPanelActions.updateOnlineUsers(data);\r\n        });\r\n\r\n        socket.on('startMessages', (messages) => {\r\n            if(this.state.messages.length === 0)\r\n                ChatPanelActions.updateMessages(messages);\r\n        });\r\n\r\n        socket.on('chatMessage', (message) => {\r\n            ChatPanelActions.addMessage(message);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        ChatPanelStore.unlisten(this.onChange);\r\n    }\r\n\r\n    onChange(state) {\r\n        this.setState(state);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        let message = {\r\n            username: this.state.username.trim(),\r\n            text: this.state.text.trim()\r\n        };\r\n\r\n        if (message.username && message.text) {\r\n            let socket = io.connect();\r\n            socket.emit('chatMessage', message);\r\n        }\r\n\r\n        ChatPanelActions.clearText();\r\n    }\r\n\r\n    render() {\r\n        var messages = this.state.messages.map((message, index) => {\r\n            return (\r\n                <div key={index} className=\"message\">\r\n                    <div className=\"chat-username\">{message.username}</div>\r\n                    <div className=\"chat-text\">{message.text}</div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"chat-panel\">\r\n                <div className=\"panel-title\">Chat</div>\r\n                <div id=\"users-count\"> {this.state.onlineUsers} users are here</div>\r\n                <div id=\"chat-content\">\r\n                    {messages}\r\n                </div>\r\n                <div className=\"new-message\">\r\n                    <form onSubmit={this.handleSubmit.bind(this)} className=\"pure-form pure-form-stacked message-form\">\r\n                        <input id=\"new-message-username\" value={this.state.username} onChange={ChatPanelActions.updateUsername} placeholder=\"Username\" required/>\r\n                        <textarea id=\"new-message-text\" value={this.state.text} onChange={ChatPanelActions.updateText} className=\"input-grumble-text\" rows=\"2\" placeholder=\"Message\" reqired />\r\n                        <button id=\"sent-message-btn\" type=\"submit\" className=\"pure-button pure-button-primary\">Send</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ChatPanel;","import React from 'react';\r\n\r\nfunction CommentForm(props) {\r\n    return (\r\n        <form className=\"pure-form comment-form\" onSubmit={props.handleSubmit}>\r\n            <div className=\"comment-form-top\">\r\n                <input className=\"input-comment-username\" value={props.values.username} onChange={props.onChangeUsername} placeholder=\"Username\" required/>\r\n                <button type=\"submit\" className=\"pure-button pure-button-primary submit-comment-btn\">Submit Comment</button>\r\n            </div>\r\n            <textarea value={props.values.text} onChange={props.onChangeText} className=\"input-comment-text\" rows=\"2\" placeholder=\"Comment\" required />\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default CommentForm;","import React from 'react';\r\nimport {Link} from 'react-router';\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        I am footer.\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport GrumbleFormStore from '../stores/GrumbleFormStore'\r\nimport GrumbleFormActions from '../actions/GrumbleFormActions';\r\n\r\nclass GrumbleForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = GrumbleFormStore.getState();\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        GrumbleFormStore.listen(this.onChange);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        GrumbleFormStore.unlisten(this.onChange);\r\n    }\r\n\r\n    onChange(state) {\r\n        this.setState(state);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        var username = this.props.username.trim();\r\n        var text = this.state.text.trim();\r\n        var annoyanceLevel = this.state.annoyanceLevel;\r\n        if (username && text) {\r\n            GrumbleFormActions.addGrumble(username, text, annoyanceLevel);\r\n\r\n            let socket = io.connect();\r\n            socket.emit('newGrumble', this.props.username);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"user-grumble\">\r\n                <div className=\"panel-title\">\r\n                    New Grumble\r\n                </div>\r\n                <div className=\"new-grumble-panel\">\r\n                    <form className=\"pure-form pure-form-stacked\" onSubmit={this.handleSubmit.bind(this)}>\r\n                \r\n                        <label className=\"input-label\">Username</label>\r\n                        <input value={this.props.username} onChange={this.props.handleUsernameChange} required/>\r\n\r\n                        <label className=\"input-label\">Grumble Text</label>\r\n                        <textarea value={this.state.text} onChange={GrumbleFormActions.updateText}\r\n                            className=\"input-grumble-text\" rows=\"4\" required />\r\n\r\n\r\n                        <label className=\"input-label\">Annoyance Level</label>\r\n                        <select value={this.state.annoyanceLevel} onChange={GrumbleFormActions.updateAnnoyanceLevel} className=\"grumble-input\">\r\n                            <option value=\"0\">Neutral</option>\r\n                            <option value=\"1\">Mildly Annoyed</option>\r\n                            <option value=\"2\">Infuriated</option>\r\n                            <option value=\"3\">Extremely Angry</option>\r\n                        </select>\r\n\r\n                        <button type=\"submit\" className=\"pure-button pure-button-primary input-button\">Submit</button>\r\n                    </form>\r\n                    <span className='help-block'>{this.state.helpBlock}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrumbleForm;","import React from 'react';\r\nimport GrumbleStreamStore from '../stores/GrumbleStreamStore'\r\nimport GrumbleStreamActions from '../actions/GrumbleStreamActions';\r\nimport CommentForm from './CommentForm';\r\n\r\nclass GrumbleStream extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = GrumbleStreamStore.getState();\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        GrumbleStreamStore.listen(this.onChange);\r\n        GrumbleStreamActions.getGrumbles();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        GrumbleStreamStore.unlisten(this.onChange);\r\n    }\r\n\r\n    onChange(state) {\r\n        this.setState(state);\r\n    }\r\n\r\n    handleCommentFormUsernameChange(index, event) {\r\n        let data = {\r\n            index: index,\r\n            event: event\r\n        };\r\n\r\n        GrumbleStreamActions.updateCommentFormUsername(data);\r\n    }\r\n\r\n    handleCommentFormTextChange(index, event) {\r\n        let data = {\r\n            index: index,\r\n            event: event\r\n        };\r\n\r\n        GrumbleStreamActions.updateCommentFormText(data);\r\n    }\r\n\r\n    handleCommentFormSubmit(event, index, grumbleId){\r\n        event.preventDefault();\r\n\r\n        var username = this.state.commentForms[index].username.trim();\r\n        var text = this.state.commentForms[index].text.trim();\r\n\r\n        if (username && text) {\r\n            GrumbleStreamActions.addComment(grumbleId, username, text);\r\n        }\r\n    }\r\n\r\n    handleHideCommentsClick(event, index){\r\n        event.preventDefault();\r\n        GrumbleStreamActions.hideComments(index);\r\n    }\r\n\r\n    render() {\r\n        var grumbles = this.state.grumbles.map((grumble, index) => {\r\n            \r\n            var comments = grumble.comments.map((comment, index) => {\r\n                return (\r\n                    <div key={index} className=\"comment-container\">\r\n                        <div className=\"space\"></div>\r\n                        <div className=\"comment\">\r\n                            <div className=\"comment-user\">\r\n                                <img className=\"user-icon\" src=\"/img/user-icon.png\" />\r\n                                <div className=\"user-name\"> {comment.username} </div>\r\n                                <div className=\"guest-text\">Guest User</div>\r\n                            </div>\r\n                            <div className=\"comment-content\">{comment.text}</div>\r\n                            <div className=\"comment-footer\">\r\n                                <div className=\"comment-datetime\" title={comment.date.num}>\r\n                                    {comment.date.relative}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n\r\n            return (\r\n                <div key={grumble._id} className=\"grumble\">\r\n                    <div className=\"grumble-user\">\r\n                        <img className=\"user-icon\" src=\"/img/user-icon.png\" />\r\n                        <div className=\"user-name\"> {grumble.username} </div>\r\n                        <div className=\"guest-text\">Guest User</div>              \r\n                    </div>\r\n                    <div className=\"grumble-content\">{grumble.text}</div>\r\n                    <div className=\"grumble-footer\">\r\n                        <div className={\"grumble-level grumble-level-\" + grumble.annoyanceLevel.num}>\r\n                            {grumble.annoyanceLevel.text}\r\n                        </div>\r\n                        <div className=\"grumble-datetime\" title={grumble.date.text}>\r\n                            {grumble.date.relative}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grumble-actions\">\r\n                        <div className=\"space\"></div>\r\n                        <div className=\"action-buttons\">\r\n                            <a href=\"#\" className=\"empathize-btn\"> Empathize </a>\r\n                            <a href=\"#\" className=\"toggle-comments-btn\" onClick={(event) => this.handleHideCommentsClick(event, index)} > {this.state.hideComments[index] ? 'Show ' : 'Hide'} comments \r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    { \r\n                        !this.state.hideComments[index] &&\r\n                        <div className=\"comments-panel\">\r\n                            {comments}\r\n                            <div className=\"new-comment\">\r\n                                <div className=\"space\"></div>\r\n                                <CommentForm \r\n                                    values={this.state.commentForms[index]} \r\n                                    onChangeUsername={(event) => this.handleCommentFormUsernameChange(index, event)}  \r\n                                    onChangeText={(event) => this.handleCommentFormTextChange(index, event)} \r\n                                    handleSubmit={(event) => this.handleCommentFormSubmit(event, index, grumble._id)} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"grumble-stream\">\r\n                <div className=\"panel-title\">\r\n                    Grumble Stream\r\n                </div>\r\n                {   \r\n                    this.props.newGrumbleCount > 0 &&\r\n                    <div id=\"update-stream\">\r\n                        <a href=\"#\" onClick={() => {this.props.handleNewGrumbleClick(); GrumbleStreamActions.getGrumbles();}}>{this.props.newGrumbleCount} New Grumbles. Click to Show.</a>\r\n                    </div>\r\n                }\r\n                <div className=\"grumble-panel\">\r\n                    {grumbles}\r\n                    <div id=\"load-more-grumbles\">\r\n                        <a href=\"#\" onClick={() => GrumbleStreamActions.updateGrumbles(this.state.grumbles.length + 10)}>Load more Grumbles</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrumbleStream;","import React from 'react';\r\nimport {Link} from 'react-router';\r\nimport HomeStore from '../stores/HomeStore'\r\nimport HomeActions from '../actions/HomeActions';\r\nimport GrumbleForm from './GrumbleForm';\r\nimport GrumbleStream from './GrumbleStream';\r\nimport ChatPanel from './ChatPanel';\r\n\r\nclass Home extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = HomeStore.getState();\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    HomeStore.listen(this.onChange);\r\n\r\n    let socket = io();\r\n    socket.on('newGrumble', (username) => {\r\n        if(username !== this.state.username){\r\n          HomeActions.updateNewGrumbleCount(++this.state.newGrumbleCount);\r\n        }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    HomeStore.unlisten(this.onChange);\r\n  }\r\n\r\n  onChange(state) {\r\n    this.setState(state);\r\n  }\r\n\r\n  handleChangeUsername(event){\r\n    HomeActions.updateUsername(event.target.value);\r\n  }\r\n\r\n  handleNewGrumbleClick(){\r\n    HomeActions.updateNewGrumbleCount(0);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-content\">\r\n        <GrumbleForm \r\n          username={this.state.username} \r\n          handleUsernameChange={this.handleChangeUsername}/>\r\n        <GrumbleStream \r\n          username={this.state.username} \r\n          newGrumbleCount={this.state.newGrumbleCount} \r\n          handleNewGrumbleClick={this.handleNewGrumbleClick}/>\r\n        <ChatPanel />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport {Link} from 'react-router';\r\nimport LoginStore from '../stores/LoginStore'\r\nimport LoginActions from '../actions/LoginActions';\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = LoginStore.getState();\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    LoginStore.listen(this.onChange);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    LoginStore.unlisten(this.onChange);\r\n  }\r\n\r\n  onChange(state) {\r\n    this.setState(state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"error-message\">\r\n          {this.state.message}\r\n        </div>\r\n        <div className=\"center-content\">\r\n          <div className=\"login-panel\">\r\n            <form className=\"pure-form pure-form-aligned\" method=\"POST\">\r\n                <fieldset>\r\n                  <legend> Login Form</legend>\r\n                    <div className=\"pure-control-group\">\r\n                        <label>Username</label>\r\n                        <input name=\"username\" type=\"text\" placeholder=\"Username\" \r\n                          value={this.state.username} onChange={LoginActions.updateUsername} />\r\n                    </div>\r\n\r\n                    <div className=\"pure-control-group\">\r\n                        <label>Password</label>\r\n                        <input name=\"password\" type=\"password\" placeholder=\"Password\" \r\n                          value={this.state.password} onChange={LoginActions.updatePassword} />\r\n                    </div>\r\n\r\n                    <div className=\"pure-controls\">\r\n                        <button type=\"submit\" className=\"pure-button pure-button-primary\">Login</button>\r\n                        <a href=\"/signup\"> Sign Up </a>\r\n                    </div>\r\n                </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {Link} from 'react-router';\r\n\r\nclass Navbar extends React.Component {\r\n  render() {\r\n    return (\r\n      <nav>\r\n        <a className=\"index-link\" href=\"/\"> Grumbler </a>\r\n        <a className=\"login-link\" href=\"/login\"> Login </a>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {Link} from 'react-router';\r\nimport SignupStore from '../stores/SignupStore'\r\nimport SignupActions from '../actions/SignupActions';\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = SignupStore.getState();\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    SignupStore.listen(this.onChange);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    SignupStore.unlisten(this.onChange);\r\n  }\r\n\r\n  onChange(state) {\r\n    this.setState(state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"error-message\">\r\n          {this.state.message}\r\n        </div>\r\n        <div className=\"center-content\">\r\n          <div className=\"login-panel\">\r\n            <form className=\"pure-form pure-form-aligned\" method=\"POST\">\r\n                <fieldset>\r\n                  <legend> Sign Up Form</legend>\r\n                    <div className=\"pure-control-group\">\r\n                        <label>Username</label>\r\n                        <input name=\"username\" type=\"text\" placeholder=\"Username\" \r\n                          value={this.state.username} onChange={SignupActions.updateUsername} />\r\n                    </div>\r\n\r\n                    <div className=\"pure-control-group\">\r\n                        <label>Password</label>\r\n                        <input name=\"password\" type=\"password\" placeholder=\"Password\" \r\n                          value={this.state.password} onChange={SignupActions.updatePassword} />\r\n                    </div>\r\n\r\n                    <div className=\"pure-controls\">\r\n                        <button type=\"submit\" className=\"pure-button pure-button-primary\">Sign up</button>\r\n                        <a href=\"/login\"> Login </a>\r\n                    </div>\r\n                </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport Router from 'react-router';\r\nimport ReactDOM from 'react-dom';\r\nimport createBrowserHistory from 'history/lib/createBrowserHistory';\r\nimport routes from './routes';\r\n\r\nlet history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n\t<Router history={history}>{routes}</Router>, \r\n\tdocument.getElementById('app')\r\n);\r\n","import React from 'react';\r\nimport {Route} from 'react-router';\r\nimport App from './components/App';\r\nimport Home from './components/Home';\r\nimport Login from './components/Login';\r\nimport Signup from './components/Signup';\r\n\r\nexport default (\r\n  <Route component={App}>\r\n    <Route path='/' component={Home} />\r\n    <Route path='/login' component={Login} />\r\n    <Route path='/signup' component={Signup} />\r\n  </Route>\r\n);","import alt from '../alt';\r\nimport ChatPanelActions from '../actions/ChatPanelActions';\r\n\r\nclass ChatPanelStore {\r\n  constructor() {\r\n    this.bindActions(ChatPanelActions);\r\n    this.username = '';\r\n    this.text = '';\r\n    this.onlineUsers = 0;\r\n    this.messages = [];\r\n  }\r\n\r\n  onUpdateUsername(event) {\r\n    this.username = event.target.value.trim();\r\n  }\r\n\r\n  onUpdateText(event) {\r\n    this.text = event.target.value;\r\n  }\r\n\r\n  onUpdateOnlineUsers(data) {\r\n    this.onlineUsers = data.onlineUsers;\r\n  }\r\n\r\n  onUpdateMessages(messages) {\r\n    this.messages = messages;\r\n  }\r\n\r\n  onAddMessage(message) {\r\n    this.messages.push(message);\r\n  }\r\n\r\n  onClearText() {\r\n    this.text = '';\r\n  }\r\n}\r\n\r\nexport default alt.createStore(ChatPanelStore);","import alt from '../alt';\r\nimport GrumbleFormActions from '../actions/GrumbleFormActions';\r\nimport GrumbleStreamActions from '../actions/GrumbleStreamActions';\r\n\r\nclass GrumbleFormStore {\r\n  constructor() {\r\n    this.bindActions(GrumbleFormActions);\r\n    this.text = '';\r\n    this.annoyanceLevel = 0;\r\n    this.helpBlock = '';\r\n  }\r\n\r\n  onUpdateText(event) {\r\n    this.text = event.target.value;\r\n  }\r\n\r\n  onUpdateAnnoyanceLevel(event) {\r\n    this.annoyanceLevel = event.target.value;\r\n  }\r\n\r\n  onAddGrumbleSuccess(successMessage) {\r\n    this.username = '';\r\n    this.text = '';\r\n    this.annoyanceLevel = 0;\r\n\r\n    GrumbleStreamActions.getGrumbles(10);\r\n  }\r\n\r\n  onAddGrumbleFail(errorMessage) {\r\n    this.helpBlock = errorMessage;\r\n  }\r\n}\r\n\r\nexport default alt.createStore(GrumbleFormStore);","import alt from '../alt';\r\nimport GrumbleStreamActions from '../actions/GrumbleStreamActions';\r\n\r\nclass GrumbleStreamStore {\r\n  constructor() {\r\n    this.bindActions(GrumbleStreamActions);\r\n    this.grumbles = [];\r\n    this.commentForms = [];\r\n    this.hideComments = [];\r\n  }\r\n\r\n  onGetGrumblesSuccess(grumbles) {\r\n    this.commentForms = [];\r\n    this.grumbles = grumbles;\r\n\r\n    for(let i = 0; i < grumbles.length; i++){\r\n      this.commentForms.push({\r\n        username: '',\r\n        text: ''\r\n      });\r\n      this.hideComments.push(false);\r\n    }\r\n  }\r\n\r\n  onGetGrumblesFail(grumbles) {\r\n    this.grumbles = grumbles;\r\n  }\r\n\r\n  onUpdateCommentFormUsername(data) {\r\n    this.commentForms[data.index].username = data.event.target.value.trim();\r\n  }\r\n\r\n  onUpdateCommentFormText(data) {\r\n    this.commentForms[data.index].text = data.event.target.value;\r\n  }\r\n\r\n  onHideComments(index){\r\n    this.hideComments[index] = !this.hideComments[index];\r\n  }\r\n}\r\n\r\nexport default alt.createStore(GrumbleStreamStore);","import alt from '../alt';\r\nimport HomeActions from '../actions/HomeActions';\r\n\r\nclass HomeStore {\r\n  constructor() {\r\n    this.bindActions(HomeActions);\r\n    this.username = '';\r\n    this.newGrumbleCount = 0;\r\n  }\r\n\r\n  onUpdateUsername(username) {\r\n  \tthis.username = username.trim();\r\n  }\r\n\r\n  onUpdateNewGrumbleCount(count) {\r\n  \tthis.newGrumbleCount = count;\r\n  }\r\n}\r\n\r\nexport default alt.createStore(HomeStore);","import alt from '../alt';\r\nimport LoginActions from '../actions/LoginActions';\r\n\r\nclass LoginStore {\r\n  constructor() {\r\n    this.bindActions(LoginActions);\r\n    this.username = '';\r\n    this.password = '';\r\n    this.message = '';\r\n  }\r\n\r\n  onUpdateUsername(event) {\r\n    this.username = event.target.value;\r\n  }\r\n\r\n  onUpdatePassword(event) {\r\n    this.password = event.target.value;\r\n  }\r\n}\r\n\r\nexport default alt.createStore(LoginStore);","import alt from '../alt';\r\nimport SignupActions from '../actions/SignupActions';\r\n\r\nclass SignupStore {\r\n  constructor() {\r\n    this.bindActions(SignupActions);\r\n    this.username = '';\r\n    this.password = '';\r\n    this.message = '';\r\n  }\r\n\r\n  onUpdateUsername(event) {\r\n    this.username = event.target.value;\r\n  }\r\n\r\n  onUpdatePassword(event) {\r\n    this.password = event.target.value;\r\n  }\r\n}\r\n\r\nexport default alt.createStore(SignupStore);","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","/**\n * Indicates that navigation was caused by a call to history.push.\n */\n'use strict';\n\nexports.__esModule = true;\nvar PUSH = 'PUSH';\n\nexports.PUSH = PUSH;\n/**\n * Indicates that navigation was caused by a call to history.replace.\n */\nvar REPLACE = 'REPLACE';\n\nexports.REPLACE = REPLACE;\n/**\n * Indicates that navigation was caused by some other action such\n * as using a browser's back/forward buttons and/or manually manipulating\n * the URL in a browser's location bar. This is the default.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n * for more information.\n */\nvar POP = 'POP';\n\nexports.POP = POP;\nexports['default'] = {\n  PUSH: PUSH,\n  REPLACE: REPLACE,\n  POP: POP\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.loopAsync = loopAsync;\n\nfunction loopAsync(turns, work, callback) {\n  var currentTurn = 0;\n  var isDone = false;\n\n  function done() {\n    isDone = true;\n    callback.apply(this, arguments);\n  }\n\n  function next() {\n    if (isDone) return;\n\n    if (currentTurn < turns) {\n      work.call(this, currentTurn++, next, done);\n    } else {\n      done.apply(this, arguments);\n    }\n  }\n\n  next();\n}","/*eslint-disable no-empty */\n'use strict';\n\nexports.__esModule = true;\nexports.saveState = saveState;\nexports.readState = readState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar KeyPrefix = '@@History/';\nvar QuotaExceededError = 'QuotaExceededError';\nvar SecurityError = 'SecurityError';\n\nfunction createKey(key) {\n  return KeyPrefix + key;\n}\n\nfunction saveState(key, state) {\n  try {\n    window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;\n\n      return;\n    }\n\n    if (error.name === QuotaExceededError && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;\n\n      return;\n    }\n\n    throw error;\n  }\n}\n\nfunction readState(key) {\n  var json = undefined;\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;\n\n      return null;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      // Ignore invalid JSON.\n    }\n  }\n\n  return null;\n}","'use strict';\n\nexports.__esModule = true;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.getHashPath = getHashPath;\nexports.replaceHashPath = replaceHashPath;\nexports.getWindowPath = getWindowPath;\nexports.go = go;\nexports.getUserConfirmation = getUserConfirmation;\nexports.supportsHistory = supportsHistory;\nexports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;\n\nfunction addEventListener(node, event, listener) {\n  if (node.addEventListener) {\n    node.addEventListener(event, listener, false);\n  } else {\n    node.attachEvent('on' + event, listener);\n  }\n}\n\nfunction removeEventListener(node, event, listener) {\n  if (node.removeEventListener) {\n    node.removeEventListener(event, listener, false);\n  } else {\n    node.detachEvent('on' + event, listener);\n  }\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  return window.location.href.split('#')[1] || '';\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(window.location.pathname + window.location.search + '#' + path);\n}\n\nfunction getWindowPath() {\n  return window.location.pathname + window.location.search + window.location.hash;\n}\n\nfunction go(n) {\n  if (n) window.history.go(n);\n}\n\nfunction getUserConfirmation(message, callback) {\n  callback(window.confirm(message));\n}\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n  // FIXME: Work around our browser history not working correctly on Chrome\n  // iOS: https://github.com/rackt/react-router/issues/2565\n  if (ua.indexOf('CriOS') !== -1) {\n    return false;\n  }\n  return window.history && 'pushState' in window.history;\n}\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  var ua = navigator.userAgent;\n  return ua.indexOf('Firefox') === -1;\n}","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexports.canUseDOM = canUseDOM;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _Actions = require('./Actions');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _createDOMHistory = require('./createDOMHistory');\n\nvar _createDOMHistory2 = _interopRequireDefault(_createDOMHistory);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\n/**\n * Creates and returns a history object that uses HTML5's history API\n * (pushState, replaceState, and the popstate event) to manage history.\n * This is the recommended method of managing history in browsers because\n * it provides the cleanest URLs.\n *\n * Note: In browsers that do not support the HTML5 history API full\n * page reloads will be used to preserve URLs.\n */\nfunction createBrowserHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Browser history needs a DOM') : _invariant2['default'](false) : undefined;\n\n  var forceRefresh = options.forceRefresh;\n\n  var isSupported = _DOMUtils.supportsHistory();\n  var useRefresh = !isSupported || forceRefresh;\n\n  function getCurrentLocation(historyState) {\n    historyState = historyState || window.history.state || {};\n\n    var path = _DOMUtils.getWindowPath();\n    var _historyState = historyState;\n    var key = _historyState.key;\n\n    var state = undefined;\n    if (key) {\n      state = _DOMStateStorage.readState(key);\n    } else {\n      state = null;\n      key = history.createKey();\n\n      if (isSupported) window.history.replaceState(_extends({}, historyState, { key: key }), null, path);\n    }\n\n    var location = _parsePath2['default'](path);\n\n    return history.createLocation(_extends({}, location, { state: state }), undefined, key);\n  }\n\n  function startPopStateListener(_ref) {\n    var transitionTo = _ref.transitionTo;\n\n    function popStateListener(event) {\n      if (event.state === undefined) return; // Ignore extraneous popstate events in WebKit.\n\n      transitionTo(getCurrentLocation(event.state));\n    }\n\n    _DOMUtils.addEventListener(window, 'popstate', popStateListener);\n\n    return function () {\n      _DOMUtils.removeEventListener(window, 'popstate', popStateListener);\n    };\n  }\n\n  function finishTransition(location) {\n    var basename = location.basename;\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n    var state = location.state;\n    var action = location.action;\n    var key = location.key;\n\n    if (action === _Actions.POP) return; // Nothing to do.\n\n    _DOMStateStorage.saveState(key, state);\n\n    var path = (basename || '') + pathname + search + hash;\n    var historyState = {\n      key: key\n    };\n\n    if (action === _Actions.PUSH) {\n      if (useRefresh) {\n        window.location.href = path;\n        return false; // Prevent location update.\n      } else {\n          window.history.pushState(historyState, null, path);\n        }\n    } else {\n      // REPLACE\n      if (useRefresh) {\n        window.location.replace(path);\n        return false; // Prevent location update.\n      } else {\n          window.history.replaceState(historyState, null, path);\n        }\n    }\n  }\n\n  var history = _createDOMHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: _DOMStateStorage.saveState\n  }));\n\n  var listenerCount = 0,\n      stopPopStateListener = undefined;\n\n  function listenBefore(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listenBefore(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  function listen(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    history.registerTransitionHook(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    history.unregisterTransitionHook(hook);\n\n    if (--listenerCount === 0) stopPopStateListener();\n  }\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen,\n    registerTransitionHook: registerTransitionHook,\n    unregisterTransitionHook: unregisterTransitionHook\n  });\n}\n\nexports['default'] = createBrowserHistory;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createDOMHistory(options) {\n  var history = _createHistory2['default'](_extends({\n    getUserConfirmation: _DOMUtils.getUserConfirmation\n  }, options, {\n    go: _DOMUtils.go\n  }));\n\n  function listen(listener) {\n    !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'DOM history needs a DOM') : _invariant2['default'](false) : undefined;\n\n    return history.listen(listener);\n  }\n\n  return _extends({}, history, {\n    listen: listen\n  });\n}\n\nexports['default'] = createDOMHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _deepEqual = require('deep-equal');\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createLocation2 = require('./createLocation');\n\nvar _createLocation3 = _interopRequireDefault(_createLocation2);\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction createRandomKey(length) {\n  return Math.random().toString(36).substr(2, length);\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search &&\n  //a.action === b.action && // Different action !== location change.\n  a.key === b.key && _deepEqual2['default'](a.state, b.state);\n}\n\nvar DefaultKeyLength = 6;\n\nfunction createHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var getCurrentLocation = options.getCurrentLocation;\n  var finishTransition = options.finishTransition;\n  var saveState = options.saveState;\n  var go = options.go;\n  var keyLength = options.keyLength;\n  var getUserConfirmation = options.getUserConfirmation;\n\n  if (typeof keyLength !== 'number') keyLength = DefaultKeyLength;\n\n  var transitionHooks = [];\n\n  function listenBefore(hook) {\n    transitionHooks.push(hook);\n\n    return function () {\n      transitionHooks = transitionHooks.filter(function (item) {\n        return item !== hook;\n      });\n    };\n  }\n\n  var allKeys = [];\n  var changeListeners = [];\n  var location = undefined;\n\n  function getCurrent() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) {\n      return allKeys.indexOf(pendingLocation.key);\n    } else if (location) {\n      return allKeys.indexOf(location.key);\n    } else {\n      return -1;\n    }\n  }\n\n  function updateLocation(newLocation) {\n    var current = getCurrent();\n\n    location = newLocation;\n\n    if (location.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, current + 1), [location.key]);\n    } else if (location.action === _Actions.REPLACE) {\n      allKeys[current] = location.key;\n    }\n\n    changeListeners.forEach(function (listener) {\n      listener(location);\n    });\n  }\n\n  function listen(listener) {\n    changeListeners.push(listener);\n\n    if (location) {\n      listener(location);\n    } else {\n      var _location = getCurrentLocation();\n      allKeys = [_location.key];\n      updateLocation(_location);\n    }\n\n    return function () {\n      changeListeners = changeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function confirmTransitionTo(location, callback) {\n    _AsyncUtils.loopAsync(transitionHooks.length, function (index, next, done) {\n      _runTransitionHook2['default'](transitionHooks[index], location, function (result) {\n        if (result != null) {\n          done(result);\n        } else {\n          next();\n        }\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  }\n\n  var pendingLocation = undefined;\n\n  function transitionTo(nextLocation) {\n    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted.\n\n      if (ok) {\n        // treat PUSH to current path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = createPath(location);\n          var nextPath = createPath(nextLocation);\n\n          if (nextPath === prevPath) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);\n      } else if (location && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(location.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.\n      }\n    });\n  }\n\n  function push(location) {\n    transitionTo(createLocation(location, _Actions.PUSH, createKey()));\n  }\n\n  function replace(location) {\n    transitionTo(createLocation(location, _Actions.REPLACE, createKey()));\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function createKey() {\n    return createRandomKey(keyLength);\n  }\n\n  function createPath(location) {\n    if (location == null || typeof location === 'string') return location;\n\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n\n    var result = pathname;\n\n    if (search) result += search;\n\n    if (hash) result += hash;\n\n    return result;\n  }\n\n  function createHref(location) {\n    return createPath(location);\n  }\n\n  function createLocation(location, action) {\n    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];\n\n    if (typeof action === 'object') {\n      //warning(\n      //  false,\n      //  'The state (2nd) argument to history.createLocation is deprecated; use a ' +\n      //  'location descriptor instead'\n      //)\n\n      if (typeof location === 'string') location = _parsePath2['default'](location);\n\n      location = _extends({}, location, { state: action });\n\n      action = key;\n      key = arguments[3] || createKey();\n    }\n\n    return _createLocation3['default'](location, action, key);\n  }\n\n  // deprecated\n  function setState(state) {\n    if (location) {\n      updateLocationState(location, state);\n      updateLocation(location);\n    } else {\n      updateLocationState(getCurrentLocation(), state);\n    }\n  }\n\n  function updateLocationState(location, state) {\n    location.state = _extends({}, location.state, state);\n    saveState(location.key, location.state);\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    transitionHooks = transitionHooks.filter(function (item) {\n      return item !== hook;\n    });\n  }\n\n  // deprecated\n  function pushState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    push(_extends({ state: state }, path));\n  }\n\n  // deprecated\n  function replaceState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    replace(_extends({ state: state }, path));\n  }\n\n  return {\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: createPath,\n    createHref: createHref,\n    createLocation: createLocation,\n\n    setState: _deprecate2['default'](setState, 'setState is deprecated; use location.key to save state instead'),\n    registerTransitionHook: _deprecate2['default'](registerTransitionHook, 'registerTransitionHook is deprecated; use listenBefore instead'),\n    unregisterTransitionHook: _deprecate2['default'](unregisterTransitionHook, 'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead'),\n    pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n    replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n  };\n}\n\nexports['default'] = createHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _Actions = require('./Actions');\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nfunction createLocation() {\n  var location = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? _Actions.POP : arguments[1];\n  var key = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n  var _fourthArg = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];\n\n  if (typeof location === 'string') location = _parsePath2['default'](location);\n\n  if (typeof action === 'object') {\n    //warning(\n    //  false,\n    //  'The state (2nd) argument to createLocation is deprecated; use a ' +\n    //  'location descriptor instead'\n    //)\n\n    location = _extends({}, location, { state: action });\n\n    action = key || _Actions.POP;\n    key = _fourthArg;\n  }\n\n  var pathname = location.pathname || '/';\n  var search = location.search || '';\n  var hash = location.hash || '';\n  var state = location.state || null;\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    state: state,\n    action: action,\n    key: key\n  };\n}\n\nexports['default'] = createLocation;\nmodule.exports = exports['default'];","//import warning from 'warning'\n\n\"use strict\";\n\nexports.__esModule = true;\nfunction deprecate(fn) {\n  return fn;\n  //return function () {\n  //  warning(false, '[history] ' + message)\n  //  return fn.apply(this, arguments)\n  //}\n}\n\nexports[\"default\"] = deprecate;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nfunction extractPath(string) {\n  var match = string.match(/^https?:\\/\\/[^\\/]*/);\n\n  if (match == null) return string;\n\n  return string.substring(match[0].length);\n}\n\nexports[\"default\"] = extractPath;\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _extractPath = require('./extractPath');\n\nvar _extractPath2 = _interopRequireDefault(_extractPath);\n\nfunction parsePath(path) {\n  var pathname = _extractPath2['default'](path);\n  var search = '';\n  var hash = '';\n\n  process.env.NODE_ENV !== 'production' ? _warning2['default'](path === pathname, 'A path must be pathname + search + hash only, not a fully qualified URL like \"%s\"', path) : undefined;\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substring(hashIndex);\n    pathname = pathname.substring(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substring(searchIndex);\n    pathname = pathname.substring(0, searchIndex);\n  }\n\n  if (pathname === '') pathname = '/';\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash\n  };\n}\n\nexports['default'] = parsePath;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction runTransitionHook(hook, location, callback) {\n  var result = hook(location, callback);\n\n  if (hook.length < 2) {\n    // Assume the hook runs synchronously and automatically\n    // call the callback with the return value.\n    callback(result);\n  } else {\n    process.env.NODE_ENV !== 'production' ? _warning2['default'](result === undefined, 'You should not \"return\" in a transition hook with a callback argument; call the callback instead') : undefined;\n  }\n}\n\nexports['default'] = runTransitionHook;\nmodule.exports = exports['default'];","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHBcXGFjdGlvbnNcXENoYXRQYW5lbEFjdGlvbnMuanMiLCJhcHBcXGFjdGlvbnNcXEdydW1ibGVGb3JtQWN0aW9ucy5qcyIsImFwcFxcYWN0aW9uc1xcR3J1bWJsZVN0cmVhbUFjdGlvbnMuanMiLCJhcHBcXGFjdGlvbnNcXEhvbWVBY3Rpb25zLmpzIiwiYXBwXFxhY3Rpb25zXFxMb2dpbkFjdGlvbnMuanMiLCJhcHBcXGFjdGlvbnNcXFNpZ251cEFjdGlvbnMuanMiLCJhcHBcXGFsdC5qcyIsImFwcFxcY29tcG9uZW50c1xcQXBwLmpzIiwiYXBwXFxjb21wb25lbnRzXFxDaGF0UGFuZWwuanMiLCJhcHBcXGNvbXBvbmVudHNcXENvbW1lbnRGb3JtLmpzIiwiYXBwXFxjb21wb25lbnRzXFxGb290ZXIuanMiLCJhcHBcXGNvbXBvbmVudHNcXEdydW1ibGVGb3JtLmpzIiwiYXBwXFxjb21wb25lbnRzXFxHcnVtYmxlU3RyZWFtLmpzIiwiYXBwXFxjb21wb25lbnRzXFxIb21lLmpzIiwiYXBwXFxjb21wb25lbnRzXFxMb2dpbi5qcyIsImFwcFxcY29tcG9uZW50c1xcTmF2YmFyLmpzIiwiYXBwXFxjb21wb25lbnRzXFxTaWdudXAuanMiLCJhcHBcXG1haW4uanMiLCJhcHBcXHJvdXRlcy5qcyIsImFwcFxcc3RvcmVzXFxDaGF0UGFuZWxTdG9yZS5qcyIsImFwcFxcc3RvcmVzXFxHcnVtYmxlRm9ybVN0b3JlLmpzIiwiYXBwXFxzdG9yZXNcXEdydW1ibGVTdHJlYW1TdG9yZS5qcyIsImFwcFxcc3RvcmVzXFxIb21lU3RvcmUuanMiLCJhcHBcXHN0b3Jlc1xcTG9naW5TdG9yZS5qcyIsImFwcFxcc3RvcmVzXFxTaWdudXBTdG9yZS5qcyIsIm5vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2xpYi9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL0FjdGlvbnMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvQXN5bmNVdGlscy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRE9NVXRpbHMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlRE9NSGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9jcmVhdGVIaXN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2NyZWF0ZUxvY2F0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2RlcHJlY2F0ZS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9leHRyYWN0UGF0aC5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9wYXJzZVBhdGguanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvcnVuVHJhbnNpdGlvbkhvb2suanMiLCJub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0FBOzs7Ozs7OztJQUVNLGdCLEdBQ0osNEJBQWM7QUFBQTs7QUFDWixPQUFLLGVBQUwsQ0FDRSxnQkFERixFQUVFLFlBRkYsRUFHRSxtQkFIRixFQUlFLGdCQUpGLEVBS0UsWUFMRixFQU1FLFdBTkY7QUFRRCxDOztrQkFHWSxjQUFJLGFBQUosQ0FBa0IsZ0JBQWxCLEM7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Q0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XHJcblxyXG5jbGFzcyBDaGF0UGFuZWxBY3Rpb25zIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxyXG4gICAgICAndXBkYXRlVXNlcm5hbWUnLFxyXG4gICAgICAndXBkYXRlVGV4dCcsXHJcbiAgICAgICd1cGRhdGVPbmxpbmVVc2VycycsXHJcbiAgICAgICd1cGRhdGVNZXNzYWdlcycsXHJcbiAgICAgICdhZGRNZXNzYWdlJyxcclxuICAgICAgJ2NsZWFyVGV4dCdcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhDaGF0UGFuZWxBY3Rpb25zKTsiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XHJcblxyXG5jbGFzcyBHcnVtYmxlRm9ybUFjdGlvbnMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXHJcbiAgICAgICAgICAgICd1cGRhdGVUZXh0JyxcclxuICAgICAgICAgICAgJ3VwZGF0ZUFubm95YW5jZUxldmVsJyxcclxuICAgICAgICAgICAgJ2FkZEdydW1ibGVTdWNjZXNzJyxcclxuICAgICAgICAgICAgJ2FkZEdydW1ibGVGYWlsJ1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkR3J1bWJsZSh1c2VybmFtZSwgdGV4dCwgYW5ub3lhbmNlTGV2ZWwpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIHVybDogJy9hcGkvZ3J1bWJsZScsXHJcbiAgICAgICAgICAgIGRhdGE6IHsgXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LCBcclxuICAgICAgICAgICAgICAgICAgICBhbm5veWFuY2VMZXZlbDogYW5ub3lhbmNlTGV2ZWwgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZG9uZSgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMuYWRkR3J1bWJsZVN1Y2Nlc3MoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWlsKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5hZGRHcnVtYmxlRmFpbChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhHcnVtYmxlRm9ybUFjdGlvbnMpOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcclxuXHJcbmNsYXNzIEdydW1ibGVTdHJlYW1BY3Rpb25zIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxyXG4gICAgICAgICAgJ2dldEdydW1ibGVzU3VjY2VzcycsXHJcbiAgICAgICAgICAnZ2V0R3J1bWJsZXNGYWlsJyxcclxuICAgICAgICAgICd1cGRhdGVDb21tZW50Rm9ybVVzZXJuYW1lJyxcclxuICAgICAgICAgICd1cGRhdGVDb21tZW50Rm9ybVRleHQnLFxyXG4gICAgICAgICAgJ2luY3JlbWVudE5ld0dydW1ibGVDb3VudCcsXHJcbiAgICAgICAgICAnaGlkZUNvbW1lbnRzJ1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3J1bWJsZXMoKSB7XHJcbiAgICAgICAgJC5hamF4KHsgdXJsOiAnL2FwaS9ncnVtYmxlcycgfSlcclxuICAgICAgICAgIC5kb25lKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMuZ2V0R3J1bWJsZXNTdWNjZXNzKGRhdGEpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5mYWlsKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbCcpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlR3J1bWJsZXMoY291bnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2dldC4uICcgKyBjb3VudCk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICB1cmw6ICcvYXBpL2dydW1ibGVzL21vcmUnLFxyXG4gICAgICAgICAgICBkYXRhOiB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAuZG9uZShkYXRhID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmdldEdydW1ibGVzU3VjY2VzcyhkYXRhKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmFpbChkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWwnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbW1lbnQoZ3J1bWJsZUlkLCB1c2VybmFtZSwgdGV4dCkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQVVQnLFxyXG4gICAgICAgICAgICB1cmw6ICcvYXBpL2dydW1ibGUvY29tbWVudCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHsgXHJcbiAgICAgICAgICAgICAgICAgICAgZ3J1bWJsZUlkOiBncnVtYmxlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZG9uZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5nZXRHcnVtYmxlcygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZhaWwoKCkgPT4ge1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhHcnVtYmxlU3RyZWFtQWN0aW9ucyk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5cclxuY2xhc3MgSG9tZUFjdGlvbnMge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXHJcbiAgICBcdCd1cGRhdGVVc2VybmFtZScsXHJcbiAgICBcdCd1cGRhdGVOZXdHcnVtYmxlQ291bnQnXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZUFjdGlvbnMoSG9tZUFjdGlvbnMpOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcclxuXHJcbmNsYXNzIExvZ2luQWN0aW9ucyB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9ucyhcclxuICAgICAgJ3VwZGF0ZVVzZXJuYW1lJyxcclxuICAgICAgJ3VwZGF0ZVBhc3N3b3JkJ1xyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVBY3Rpb25zKExvZ2luQWN0aW9ucyk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5cclxuY2xhc3MgU2lnbnVwQWN0aW9ucyB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9ucyhcclxuICAgICAgJ3VwZGF0ZVVzZXJuYW1lJyxcclxuICAgICAgJ3VwZGF0ZVBhc3N3b3JkJ1xyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVBY3Rpb25zKFNpZ251cEFjdGlvbnMpOyIsImltcG9ydCBBbHQgZnJvbSAnYWx0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBBbHQoKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTmF2YmFyIGZyb20gJy4vTmF2YmFyJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3Rlcic7XHJcblxyXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgXHRcdDxOYXZiYXIgaGlzdG9yeT17dGhpcy5wcm9wcy5oaXN0b3J5fSAvPlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENoYXRQYW5lbFN0b3JlIGZyb20gJy4uL3N0b3Jlcy9DaGF0UGFuZWxTdG9yZSdcclxuaW1wb3J0IENoYXRQYW5lbEFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9DaGF0UGFuZWxBY3Rpb25zJztcclxuXHJcbmNsYXNzIENoYXRQYW5lbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gQ2hhdFBhbmVsU3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIENoYXRQYW5lbFN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuXHJcbiAgICAgICAgbGV0IHNvY2tldCA9IGlvKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc29ja2V0Lm9uKCdvbmxpbmVVc2VycycsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBDaGF0UGFuZWxBY3Rpb25zLnVwZGF0ZU9ubGluZVVzZXJzKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oJ3N0YXJ0TWVzc2FnZXMnLCAobWVzc2FnZXMpID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5tZXNzYWdlcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICBDaGF0UGFuZWxBY3Rpb25zLnVwZGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKCdjaGF0TWVzc2FnZScsIChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIENoYXRQYW5lbEFjdGlvbnMuYWRkTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBDaGF0UGFuZWxTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZShzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBtZXNzYWdlID0ge1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCksXHJcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuc3RhdGUudGV4dC50cmltKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZS51c2VybmFtZSAmJiBtZXNzYWdlLnRleHQpIHtcclxuICAgICAgICAgICAgbGV0IHNvY2tldCA9IGlvLmNvbm5lY3QoKTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NoYXRNZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDaGF0UGFuZWxBY3Rpb25zLmNsZWFyVGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC11c2VybmFtZVwiPnttZXNzYWdlLnVzZXJuYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC10ZXh0XCI+e21lc3NhZ2UudGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFuZWxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5DaGF0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidXNlcnMtY291bnRcIj4ge3RoaXMuc3RhdGUub25saW5lVXNlcnN9IHVzZXJzIGFyZSBoZXJlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2hhdC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAge21lc3NhZ2VzfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyl9IGNsYXNzTmFtZT1cInB1cmUtZm9ybSBwdXJlLWZvcm0tc3RhY2tlZCBtZXNzYWdlLWZvcm1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwibmV3LW1lc3NhZ2UtdXNlcm5hbWVcIiB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gb25DaGFuZ2U9e0NoYXRQYW5lbEFjdGlvbnMudXBkYXRlVXNlcm5hbWV9IHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIiByZXF1aXJlZC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cIm5ldy1tZXNzYWdlLXRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS50ZXh0fSBvbkNoYW5nZT17Q2hhdFBhbmVsQWN0aW9ucy51cGRhdGVUZXh0fSBjbGFzc05hbWU9XCJpbnB1dC1ncnVtYmxlLXRleHRcIiByb3dzPVwiMlwiIHBsYWNlaG9sZGVyPVwiTWVzc2FnZVwiIHJlcWlyZWQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbnQtbWVzc2FnZS1idG5cIiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwicHVyZS1idXR0b24gcHVyZS1idXR0b24tcHJpbWFyeVwiPlNlbmQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hhdFBhbmVsOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5mdW5jdGlvbiBDb21tZW50Rm9ybShwcm9wcykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJwdXJlLWZvcm0gY29tbWVudC1mb3JtXCIgb25TdWJtaXQ9e3Byb3BzLmhhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudC1mb3JtLXRvcFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWNvbW1lbnQtdXNlcm5hbWVcIiB2YWx1ZT17cHJvcHMudmFsdWVzLnVzZXJuYW1lfSBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2VVc2VybmFtZX0gcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiIHJlcXVpcmVkLz5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cInB1cmUtYnV0dG9uIHB1cmUtYnV0dG9uLXByaW1hcnkgc3VibWl0LWNvbW1lbnQtYnRuXCI+U3VibWl0IENvbW1lbnQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17cHJvcHMudmFsdWVzLnRleHR9IG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZVRleHR9IGNsYXNzTmFtZT1cImlucHV0LWNvbW1lbnQtdGV4dFwiIHJvd3M9XCIyXCIgcGxhY2Vob2xkZXI9XCJDb21tZW50XCIgcmVxdWlyZWQgLz5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21tZW50Rm9ybTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XHJcblxyXG5jbGFzcyBGb290ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxmb290ZXI+XHJcbiAgICAgICAgSSBhbSBmb290ZXIuXHJcbiAgICAgIDwvZm9vdGVyPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgR3J1bWJsZUZvcm1TdG9yZSBmcm9tICcuLi9zdG9yZXMvR3J1bWJsZUZvcm1TdG9yZSdcclxuaW1wb3J0IEdydW1ibGVGb3JtQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL0dydW1ibGVGb3JtQWN0aW9ucyc7XHJcblxyXG5jbGFzcyBHcnVtYmxlRm9ybSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gR3J1bWJsZUZvcm1TdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgR3J1bWJsZUZvcm1TdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgR3J1bWJsZUZvcm1TdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZShzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHRoaXMucHJvcHMudXNlcm5hbWUudHJpbSgpO1xyXG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5zdGF0ZS50ZXh0LnRyaW0oKTtcclxuICAgICAgICB2YXIgYW5ub3lhbmNlTGV2ZWwgPSB0aGlzLnN0YXRlLmFubm95YW5jZUxldmVsO1xyXG4gICAgICAgIGlmICh1c2VybmFtZSAmJiB0ZXh0KSB7XHJcbiAgICAgICAgICAgIEdydW1ibGVGb3JtQWN0aW9ucy5hZGRHcnVtYmxlKHVzZXJuYW1lLCB0ZXh0LCBhbm5veWFuY2VMZXZlbCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc29ja2V0ID0gaW8uY29ubmVjdCgpO1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnbmV3R3J1bWJsZScsIHRoaXMucHJvcHMudXNlcm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWdydW1ibGVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICBOZXcgR3J1bWJsZVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy1ncnVtYmxlLXBhbmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwicHVyZS1mb3JtIHB1cmUtZm9ybS1zdGFja2VkXCIgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJpbnB1dC1sYWJlbFwiPlVzZXJuYW1lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXt0aGlzLnByb3BzLnVzZXJuYW1lfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5oYW5kbGVVc2VybmFtZUNoYW5nZX0gcmVxdWlyZWQvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImlucHV0LWxhYmVsXCI+R3J1bWJsZSBUZXh0PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9IG9uQ2hhbmdlPXtHcnVtYmxlRm9ybUFjdGlvbnMudXBkYXRlVGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWdydW1ibGUtdGV4dFwiIHJvd3M9XCI0XCIgcmVxdWlyZWQgLz5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiaW5wdXQtbGFiZWxcIj5Bbm5veWFuY2UgTGV2ZWw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHZhbHVlPXt0aGlzLnN0YXRlLmFubm95YW5jZUxldmVsfSBvbkNoYW5nZT17R3J1bWJsZUZvcm1BY3Rpb25zLnVwZGF0ZUFubm95YW5jZUxldmVsfSBjbGFzc05hbWU9XCJncnVtYmxlLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiPk5ldXRyYWw8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+TWlsZGx5IEFubm95ZWQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIyXCI+SW5mdXJpYXRlZDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjNcIj5FeHRyZW1lbHkgQW5ncnk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJwdXJlLWJ1dHRvbiBwdXJlLWJ1dHRvbi1wcmltYXJ5IGlucHV0LWJ1dHRvblwiPlN1Ym1pdDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2hlbHAtYmxvY2snPnt0aGlzLnN0YXRlLmhlbHBCbG9ja308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR3J1bWJsZUZvcm07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEdydW1ibGVTdHJlYW1TdG9yZSBmcm9tICcuLi9zdG9yZXMvR3J1bWJsZVN0cmVhbVN0b3JlJ1xyXG5pbXBvcnQgR3J1bWJsZVN0cmVhbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9HcnVtYmxlU3RyZWFtQWN0aW9ucyc7XHJcbmltcG9ydCBDb21tZW50Rm9ybSBmcm9tICcuL0NvbW1lbnRGb3JtJztcclxuXHJcbmNsYXNzIEdydW1ibGVTdHJlYW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEdydW1ibGVTdHJlYW1TdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgR3J1bWJsZVN0cmVhbVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuICAgICAgICBHcnVtYmxlU3RyZWFtQWN0aW9ucy5nZXRHcnVtYmxlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIEdydW1ibGVTdHJlYW1TdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZShzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNvbW1lbnRGb3JtVXNlcm5hbWVDaGFuZ2UoaW5kZXgsIGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgR3J1bWJsZVN0cmVhbUFjdGlvbnMudXBkYXRlQ29tbWVudEZvcm1Vc2VybmFtZShkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDb21tZW50Rm9ybVRleHRDaGFuZ2UoaW5kZXgsIGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgR3J1bWJsZVN0cmVhbUFjdGlvbnMudXBkYXRlQ29tbWVudEZvcm1UZXh0KGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNvbW1lbnRGb3JtU3VibWl0KGV2ZW50LCBpbmRleCwgZ3J1bWJsZUlkKXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgdXNlcm5hbWUgPSB0aGlzLnN0YXRlLmNvbW1lbnRGb3Jtc1tpbmRleF0udXNlcm5hbWUudHJpbSgpO1xyXG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5zdGF0ZS5jb21tZW50Rm9ybXNbaW5kZXhdLnRleHQudHJpbSgpO1xyXG5cclxuICAgICAgICBpZiAodXNlcm5hbWUgJiYgdGV4dCkge1xyXG4gICAgICAgICAgICBHcnVtYmxlU3RyZWFtQWN0aW9ucy5hZGRDb21tZW50KGdydW1ibGVJZCwgdXNlcm5hbWUsIHRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVIaWRlQ29tbWVudHNDbGljayhldmVudCwgaW5kZXgpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgR3J1bWJsZVN0cmVhbUFjdGlvbnMuaGlkZUNvbW1lbnRzKGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIGdydW1ibGVzID0gdGhpcy5zdGF0ZS5ncnVtYmxlcy5tYXAoKGdydW1ibGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgY29tbWVudHMgPSBncnVtYmxlLmNvbW1lbnRzLm1hcCgoY29tbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJjb21tZW50LWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50LXVzZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cInVzZXItaWNvblwiIHNyYz1cIi9pbWcvdXNlci1pY29uLnBuZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj4ge2NvbW1lbnQudXNlcm5hbWV9IDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3Vlc3QtdGV4dFwiPkd1ZXN0IFVzZXI8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50LWNvbnRlbnRcIj57Y29tbWVudC50ZXh0fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50LWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudC1kYXRldGltZVwiIHRpdGxlPXtjb21tZW50LmRhdGUubnVtfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnQuZGF0ZS5yZWxhdGl2ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtncnVtYmxlLl9pZH0gY2xhc3NOYW1lPVwiZ3J1bWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3J1bWJsZS11c2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwidXNlci1pY29uXCIgc3JjPVwiL2ltZy91c2VyLWljb24ucG5nXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj4ge2dydW1ibGUudXNlcm5hbWV9IDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImd1ZXN0LXRleHRcIj5HdWVzdCBVc2VyPC9kaXY+ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdydW1ibGUtY29udGVudFwiPntncnVtYmxlLnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncnVtYmxlLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJncnVtYmxlLWxldmVsIGdydW1ibGUtbGV2ZWwtXCIgKyBncnVtYmxlLmFubm95YW5jZUxldmVsLm51bX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3J1bWJsZS5hbm5veWFuY2VMZXZlbC50ZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncnVtYmxlLWRhdGV0aW1lXCIgdGl0bGU9e2dydW1ibGUuZGF0ZS50ZXh0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtncnVtYmxlLmRhdGUucmVsYXRpdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3J1bWJsZS1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2VcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb24tYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJlbXBhdGhpemUtYnRuXCI+IEVtcGF0aGl6ZSA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cInRvZ2dsZS1jb21tZW50cy1idG5cIiBvbkNsaWNrPXsoZXZlbnQpID0+IHRoaXMuaGFuZGxlSGlkZUNvbW1lbnRzQ2xpY2soZXZlbnQsIGluZGV4KX0gPiB7dGhpcy5zdGF0ZS5oaWRlQ29tbWVudHNbaW5kZXhdID8gJ1Nob3cgJyA6ICdIaWRlJ30gY29tbWVudHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmhpZGVDb21tZW50c1tpbmRleF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50cy1wYW5lbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnRzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctY29tbWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2VcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tbWVudEZvcm0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz17dGhpcy5zdGF0ZS5jb21tZW50Rm9ybXNbaW5kZXhdfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VVc2VybmFtZT17KGV2ZW50KSA9PiB0aGlzLmhhbmRsZUNvbW1lbnRGb3JtVXNlcm5hbWVDaGFuZ2UoaW5kZXgsIGV2ZW50KX0gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZVRleHQ9eyhldmVudCkgPT4gdGhpcy5oYW5kbGVDb21tZW50Rm9ybVRleHRDaGFuZ2UoaW5kZXgsIGV2ZW50KX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdD17KGV2ZW50KSA9PiB0aGlzLmhhbmRsZUNvbW1lbnRGb3JtU3VibWl0KGV2ZW50LCBpbmRleCwgZ3J1bWJsZS5faWQpfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdydW1ibGUtc3RyZWFtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgR3J1bWJsZSBTdHJlYW1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgeyAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubmV3R3J1bWJsZUNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1cGRhdGUtc3RyZWFtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4ge3RoaXMucHJvcHMuaGFuZGxlTmV3R3J1bWJsZUNsaWNrKCk7IEdydW1ibGVTdHJlYW1BY3Rpb25zLmdldEdydW1ibGVzKCk7fX0+e3RoaXMucHJvcHMubmV3R3J1bWJsZUNvdW50fSBOZXcgR3J1bWJsZXMuIENsaWNrIHRvIFNob3cuPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncnVtYmxlLXBhbmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2dydW1ibGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJsb2FkLW1vcmUtZ3J1bWJsZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiBHcnVtYmxlU3RyZWFtQWN0aW9ucy51cGRhdGVHcnVtYmxlcyh0aGlzLnN0YXRlLmdydW1ibGVzLmxlbmd0aCArIDEwKX0+TG9hZCBtb3JlIEdydW1ibGVzPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdydW1ibGVTdHJlYW07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgSG9tZVN0b3JlIGZyb20gJy4uL3N0b3Jlcy9Ib21lU3RvcmUnXHJcbmltcG9ydCBIb21lQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL0hvbWVBY3Rpb25zJztcclxuaW1wb3J0IEdydW1ibGVGb3JtIGZyb20gJy4vR3J1bWJsZUZvcm0nO1xyXG5pbXBvcnQgR3J1bWJsZVN0cmVhbSBmcm9tICcuL0dydW1ibGVTdHJlYW0nO1xyXG5pbXBvcnQgQ2hhdFBhbmVsIGZyb20gJy4vQ2hhdFBhbmVsJztcclxuXHJcbmNsYXNzIEhvbWUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IEhvbWVTdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgSG9tZVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuXHJcbiAgICBsZXQgc29ja2V0ID0gaW8oKTtcclxuICAgIHNvY2tldC5vbignbmV3R3J1bWJsZScsICh1c2VybmFtZSkgPT4ge1xyXG4gICAgICAgIGlmKHVzZXJuYW1lICE9PSB0aGlzLnN0YXRlLnVzZXJuYW1lKXtcclxuICAgICAgICAgIEhvbWVBY3Rpb25zLnVwZGF0ZU5ld0dydW1ibGVDb3VudCgrK3RoaXMuc3RhdGUubmV3R3J1bWJsZUNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgSG9tZVN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2Uoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2hhbmdlVXNlcm5hbWUoZXZlbnQpe1xyXG4gICAgSG9tZUFjdGlvbnMudXBkYXRlVXNlcm5hbWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZU5ld0dydW1ibGVDbGljaygpe1xyXG4gICAgSG9tZUFjdGlvbnMudXBkYXRlTmV3R3J1bWJsZUNvdW50KDApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNvbnRlbnRcIj5cclxuICAgICAgICA8R3J1bWJsZUZvcm0gXHJcbiAgICAgICAgICB1c2VybmFtZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gXHJcbiAgICAgICAgICBoYW5kbGVVc2VybmFtZUNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VVc2VybmFtZX0vPlxyXG4gICAgICAgIDxHcnVtYmxlU3RyZWFtIFxyXG4gICAgICAgICAgdXNlcm5hbWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IFxyXG4gICAgICAgICAgbmV3R3J1bWJsZUNvdW50PXt0aGlzLnN0YXRlLm5ld0dydW1ibGVDb3VudH0gXHJcbiAgICAgICAgICBoYW5kbGVOZXdHcnVtYmxlQ2xpY2s9e3RoaXMuaGFuZGxlTmV3R3J1bWJsZUNsaWNrfS8+XHJcbiAgICAgICAgPENoYXRQYW5lbCAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIb21lOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcclxuaW1wb3J0IExvZ2luU3RvcmUgZnJvbSAnLi4vc3RvcmVzL0xvZ2luU3RvcmUnXHJcbmltcG9ydCBMb2dpbkFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Mb2dpbkFjdGlvbnMnO1xyXG5cclxuY2xhc3MgTG9naW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IExvZ2luU3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIExvZ2luU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICBMb2dpblN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2Uoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgIHt0aGlzLnN0YXRlLm1lc3NhZ2V9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZW50ZXItY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1wYW5lbFwiPlxyXG4gICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJwdXJlLWZvcm0gcHVyZS1mb3JtLWFsaWduZWRcIiBtZXRob2Q9XCJQT1NUXCI+XHJcbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XHJcbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+IExvZ2luIEZvcm08L2xlZ2VuZD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1cmUtY29udHJvbC1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VXNlcm5hbWU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlVzZXJuYW1lXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IG9uQ2hhbmdlPXtMb2dpbkFjdGlvbnMudXBkYXRlVXNlcm5hbWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVyZS1jb250cm9sLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IG9uQ2hhbmdlPXtMb2dpbkFjdGlvbnMudXBkYXRlUGFzc3dvcmR9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVyZS1jb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJwdXJlLWJ1dHRvbiBwdXJlLWJ1dHRvbi1wcmltYXJ5XCI+TG9naW48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9zaWdudXBcIj4gU2lnbiBVcCA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW47IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5cclxuY2xhc3MgTmF2YmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8bmF2PlxyXG4gICAgICAgIDxhIGNsYXNzTmFtZT1cImluZGV4LWxpbmtcIiBocmVmPVwiL1wiPiBHcnVtYmxlciA8L2E+XHJcbiAgICAgICAgPGEgY2xhc3NOYW1lPVwibG9naW4tbGlua1wiIGhyZWY9XCIvbG9naW5cIj4gTG9naW4gPC9hPlxyXG4gICAgICA8L25hdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOYXZiYXI7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgU2lnbnVwU3RvcmUgZnJvbSAnLi4vc3RvcmVzL1NpZ251cFN0b3JlJ1xyXG5pbXBvcnQgU2lnbnVwQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL1NpZ251cEFjdGlvbnMnO1xyXG5cclxuY2xhc3MgTG9naW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IFNpZ251cFN0b3JlLmdldFN0YXRlKCk7XHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICBTaWdudXBTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgIFNpZ251cFN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2Uoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgIHt0aGlzLnN0YXRlLm1lc3NhZ2V9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZW50ZXItY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1wYW5lbFwiPlxyXG4gICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJwdXJlLWZvcm0gcHVyZS1mb3JtLWFsaWduZWRcIiBtZXRob2Q9XCJQT1NUXCI+XHJcbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XHJcbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+IFNpZ24gVXAgRm9ybTwvbGVnZW5kPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVyZS1jb250cm9sLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Vc2VybmFtZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwidXNlcm5hbWVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gb25DaGFuZ2U9e1NpZ251cEFjdGlvbnMudXBkYXRlVXNlcm5hbWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVyZS1jb250cm9sLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IG9uQ2hhbmdlPXtTaWdudXBBY3Rpb25zLnVwZGF0ZVBhc3N3b3JkfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1cmUtY29udHJvbHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwicHVyZS1idXR0b24gcHVyZS1idXR0b24tcHJpbWFyeVwiPlNpZ24gdXA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9sb2dpblwiPiBMb2dpbiA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW47IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJvdXRlciBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IGNyZWF0ZUJyb3dzZXJIaXN0b3J5IGZyb20gJ2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcclxuaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7XHJcblxyXG5sZXQgaGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCk7XHJcblxyXG5SZWFjdERPTS5yZW5kZXIoXHJcblx0PFJvdXRlciBoaXN0b3J5PXtoaXN0b3J5fT57cm91dGVzfTwvUm91dGVyPiwgXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXHJcbik7XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7Um91dGV9IGZyb20gJ3JlYWN0LXJvdXRlcic7XHJcbmltcG9ydCBBcHAgZnJvbSAnLi9jb21wb25lbnRzL0FwcCc7XHJcbmltcG9ydCBIb21lIGZyb20gJy4vY29tcG9uZW50cy9Ib21lJztcclxuaW1wb3J0IExvZ2luIGZyb20gJy4vY29tcG9uZW50cy9Mb2dpbic7XHJcbmltcG9ydCBTaWdudXAgZnJvbSAnLi9jb21wb25lbnRzL1NpZ251cCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoXHJcbiAgPFJvdXRlIGNvbXBvbmVudD17QXBwfT5cclxuICAgIDxSb3V0ZSBwYXRoPScvJyBjb21wb25lbnQ9e0hvbWV9IC8+XHJcbiAgICA8Um91dGUgcGF0aD0nL2xvZ2luJyBjb21wb25lbnQ9e0xvZ2lufSAvPlxyXG4gICAgPFJvdXRlIHBhdGg9Jy9zaWdudXAnIGNvbXBvbmVudD17U2lnbnVwfSAvPlxyXG4gIDwvUm91dGU+XHJcbik7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5pbXBvcnQgQ2hhdFBhbmVsQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL0NoYXRQYW5lbEFjdGlvbnMnO1xyXG5cclxuY2xhc3MgQ2hhdFBhbmVsU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5iaW5kQWN0aW9ucyhDaGF0UGFuZWxBY3Rpb25zKTtcclxuICAgIHRoaXMudXNlcm5hbWUgPSAnJztcclxuICAgIHRoaXMudGV4dCA9ICcnO1xyXG4gICAgdGhpcy5vbmxpbmVVc2VycyA9IDA7XHJcbiAgICB0aGlzLm1lc3NhZ2VzID0gW107XHJcbiAgfVxyXG5cclxuICBvblVwZGF0ZVVzZXJuYW1lKGV2ZW50KSB7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcclxuICB9XHJcblxyXG4gIG9uVXBkYXRlVGV4dChldmVudCkge1xyXG4gICAgdGhpcy50ZXh0ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVPbmxpbmVVc2VycyhkYXRhKSB7XHJcbiAgICB0aGlzLm9ubGluZVVzZXJzID0gZGF0YS5vbmxpbmVVc2VycztcclxuICB9XHJcblxyXG4gIG9uVXBkYXRlTWVzc2FnZXMobWVzc2FnZXMpIHtcclxuICAgIHRoaXMubWVzc2FnZXMgPSBtZXNzYWdlcztcclxuICB9XHJcblxyXG4gIG9uQWRkTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcbiAgfVxyXG5cclxuICBvbkNsZWFyVGV4dCgpIHtcclxuICAgIHRoaXMudGV4dCA9ICcnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZVN0b3JlKENoYXRQYW5lbFN0b3JlKTsiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XHJcbmltcG9ydCBHcnVtYmxlRm9ybUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9HcnVtYmxlRm9ybUFjdGlvbnMnO1xyXG5pbXBvcnQgR3J1bWJsZVN0cmVhbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9HcnVtYmxlU3RyZWFtQWN0aW9ucyc7XHJcblxyXG5jbGFzcyBHcnVtYmxlRm9ybVN0b3JlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuYmluZEFjdGlvbnMoR3J1bWJsZUZvcm1BY3Rpb25zKTtcclxuICAgIHRoaXMudGV4dCA9ICcnO1xyXG4gICAgdGhpcy5hbm5veWFuY2VMZXZlbCA9IDA7XHJcbiAgICB0aGlzLmhlbHBCbG9jayA9ICcnO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVUZXh0KGV2ZW50KSB7XHJcbiAgICB0aGlzLnRleHQgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgfVxyXG5cclxuICBvblVwZGF0ZUFubm95YW5jZUxldmVsKGV2ZW50KSB7XHJcbiAgICB0aGlzLmFubm95YW5jZUxldmVsID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25BZGRHcnVtYmxlU3VjY2VzcyhzdWNjZXNzTWVzc2FnZSkge1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xyXG4gICAgdGhpcy50ZXh0ID0gJyc7XHJcbiAgICB0aGlzLmFubm95YW5jZUxldmVsID0gMDtcclxuXHJcbiAgICBHcnVtYmxlU3RyZWFtQWN0aW9ucy5nZXRHcnVtYmxlcygxMCk7XHJcbiAgfVxyXG5cclxuICBvbkFkZEdydW1ibGVGYWlsKGVycm9yTWVzc2FnZSkge1xyXG4gICAgdGhpcy5oZWxwQmxvY2sgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlU3RvcmUoR3J1bWJsZUZvcm1TdG9yZSk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5pbXBvcnQgR3J1bWJsZVN0cmVhbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9HcnVtYmxlU3RyZWFtQWN0aW9ucyc7XHJcblxyXG5jbGFzcyBHcnVtYmxlU3RyZWFtU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5iaW5kQWN0aW9ucyhHcnVtYmxlU3RyZWFtQWN0aW9ucyk7XHJcbiAgICB0aGlzLmdydW1ibGVzID0gW107XHJcbiAgICB0aGlzLmNvbW1lbnRGb3JtcyA9IFtdO1xyXG4gICAgdGhpcy5oaWRlQ29tbWVudHMgPSBbXTtcclxuICB9XHJcblxyXG4gIG9uR2V0R3J1bWJsZXNTdWNjZXNzKGdydW1ibGVzKSB7XHJcbiAgICB0aGlzLmNvbW1lbnRGb3JtcyA9IFtdO1xyXG4gICAgdGhpcy5ncnVtYmxlcyA9IGdydW1ibGVzO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBncnVtYmxlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgIHRoaXMuY29tbWVudEZvcm1zLnB1c2goe1xyXG4gICAgICAgIHVzZXJuYW1lOiAnJyxcclxuICAgICAgICB0ZXh0OiAnJ1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5oaWRlQ29tbWVudHMucHVzaChmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkdldEdydW1ibGVzRmFpbChncnVtYmxlcykge1xyXG4gICAgdGhpcy5ncnVtYmxlcyA9IGdydW1ibGVzO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVDb21tZW50Rm9ybVVzZXJuYW1lKGRhdGEpIHtcclxuICAgIHRoaXMuY29tbWVudEZvcm1zW2RhdGEuaW5kZXhdLnVzZXJuYW1lID0gZGF0YS5ldmVudC50YXJnZXQudmFsdWUudHJpbSgpO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVDb21tZW50Rm9ybVRleHQoZGF0YSkge1xyXG4gICAgdGhpcy5jb21tZW50Rm9ybXNbZGF0YS5pbmRleF0udGV4dCA9IGRhdGEuZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25IaWRlQ29tbWVudHMoaW5kZXgpe1xyXG4gICAgdGhpcy5oaWRlQ29tbWVudHNbaW5kZXhdID0gIXRoaXMuaGlkZUNvbW1lbnRzW2luZGV4XTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShHcnVtYmxlU3RyZWFtU3RvcmUpOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcclxuaW1wb3J0IEhvbWVBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvSG9tZUFjdGlvbnMnO1xyXG5cclxuY2xhc3MgSG9tZVN0b3JlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuYmluZEFjdGlvbnMoSG9tZUFjdGlvbnMpO1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xyXG4gICAgdGhpcy5uZXdHcnVtYmxlQ291bnQgPSAwO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVVc2VybmFtZSh1c2VybmFtZSkge1xyXG4gIFx0dGhpcy51c2VybmFtZSA9IHVzZXJuYW1lLnRyaW0oKTtcclxuICB9XHJcblxyXG4gIG9uVXBkYXRlTmV3R3J1bWJsZUNvdW50KGNvdW50KSB7XHJcbiAgXHR0aGlzLm5ld0dydW1ibGVDb3VudCA9IGNvdW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZVN0b3JlKEhvbWVTdG9yZSk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5pbXBvcnQgTG9naW5BY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTG9naW5BY3Rpb25zJztcclxuXHJcbmNsYXNzIExvZ2luU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5iaW5kQWN0aW9ucyhMb2dpbkFjdGlvbnMpO1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xyXG4gICAgdGhpcy5wYXNzd29yZCA9ICcnO1xyXG4gICAgdGhpcy5tZXNzYWdlID0gJyc7XHJcbiAgfVxyXG5cclxuICBvblVwZGF0ZVVzZXJuYW1lKGV2ZW50KSB7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVQYXNzd29yZChldmVudCkge1xyXG4gICAgdGhpcy5wYXNzd29yZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShMb2dpblN0b3JlKTsiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XHJcbmltcG9ydCBTaWdudXBBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvU2lnbnVwQWN0aW9ucyc7XHJcblxyXG5jbGFzcyBTaWdudXBTdG9yZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmJpbmRBY3Rpb25zKFNpZ251cEFjdGlvbnMpO1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xyXG4gICAgdGhpcy5wYXNzd29yZCA9ICcnO1xyXG4gICAgdGhpcy5tZXNzYWdlID0gJyc7XHJcbiAgfVxyXG5cclxuICBvblVwZGF0ZVVzZXJuYW1lKGV2ZW50KSB7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVQYXNzd29yZChldmVudCkge1xyXG4gICAgdGhpcy5wYXNzd29yZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShTaWdudXBTdG9yZSk7IiwidmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnLi9saWIva2V5cy5qcycpO1xudmFyIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9saWIvaXNfYXJndW1lbnRzLmpzJyk7XG5cbnZhciBkZWVwRXF1YWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQgfHwgdHlwZW9mIGFjdHVhbCAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgIT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIDcuNC4gRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKHgpIHtcbiAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgeC5jb3B5ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB4LnNsaWNlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh4Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIHhbMF0gIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBvcHRzKSB7XG4gIHZhciBpLCBrZXk7XG4gIGlmIChpc1VuZGVmaW5lZE9yTnVsbChhKSB8fCBpc1VuZGVmaW5lZE9yTnVsbChiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cbiAgaWYgKGEucHJvdG90eXBlICE9PSBiLnByb3RvdHlwZSkgcmV0dXJuIGZhbHNlO1xuICAvL35+fkkndmUgbWFuYWdlZCB0byBicmVhayBPYmplY3Qua2V5cyB0aHJvdWdoIHNjcmV3eSBhcmd1bWVudHMgcGFzc2luZy5cbiAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cbiAgaWYgKGlzQXJndW1lbnRzKGEpKSB7XG4gICAgaWYgKCFpc0FyZ3VtZW50cyhiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBkZWVwRXF1YWwoYSwgYiwgb3B0cyk7XG4gIH1cbiAgaWYgKGlzQnVmZmVyKGEpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGthID0gb2JqZWN0S2V5cyhhKSxcbiAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuICB9IGNhdGNoIChlKSB7Ly9oYXBwZW5zIHdoZW4gb25lIGlzIGEgc3RyaW5nIGxpdGVyYWwgYW5kIHRoZSBvdGhlciBpc24ndFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vdGhlIHNhbWUgc2V0IG9mIGtleXMgKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksXG4gIGthLnNvcnQoKTtcbiAga2Iuc29ydCgpO1xuICAvL35+fmNoZWFwIGtleSB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGthW2ldICE9IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIG9wdHMpKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBhID09PSB0eXBlb2YgYjtcbn1cbiIsInZhciBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID0gKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKVxufSkoKSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA/IHN1cHBvcnRlZCA6IHVuc3VwcG9ydGVkO1xuXG5leHBvcnRzLnN1cHBvcnRlZCA9IHN1cHBvcnRlZDtcbmZ1bmN0aW9uIHN1cHBvcnRlZChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufTtcblxuZXhwb3J0cy51bnN1cHBvcnRlZCA9IHVuc3VwcG9ydGVkO1xuZnVuY3Rpb24gdW5zdXBwb3J0ZWQob2JqZWN0KXtcbiAgcmV0dXJuIG9iamVjdCAmJlxuICAgIHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2Ygb2JqZWN0Lmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdjYWxsZWUnKSAmJlxuICAgICFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCAnY2FsbGVlJykgfHxcbiAgICBmYWxzZTtcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbidcbiAgPyBPYmplY3Qua2V5cyA6IHNoaW07XG5cbmV4cG9ydHMuc2hpbSA9IHNoaW07XG5mdW5jdGlvbiBzaGltIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gIHJldHVybiBrZXlzO1xufVxuIiwiLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgYSBjYWxsIHRvIGhpc3RvcnkucHVzaC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIFBVU0ggPSAnUFVTSCc7XG5cbmV4cG9ydHMuUFVTSCA9IFBVU0g7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5yZXBsYWNlLlxuICovXG52YXIgUkVQTEFDRSA9ICdSRVBMQUNFJztcblxuZXhwb3J0cy5SRVBMQUNFID0gUkVQTEFDRTtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IHNvbWUgb3RoZXIgYWN0aW9uIHN1Y2hcbiAqIGFzIHVzaW5nIGEgYnJvd3NlcidzIGJhY2svZm9yd2FyZCBidXR0b25zIGFuZC9vciBtYW51YWxseSBtYW5pcHVsYXRpbmdcbiAqIHRoZSBVUkwgaW4gYSBicm93c2VyJ3MgbG9jYXRpb24gYmFyLiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93RXZlbnRIYW5kbGVycy9vbnBvcHN0YXRlXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFBPUCA9ICdQT1AnO1xuXG5leHBvcnRzLlBPUCA9IFBPUDtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgUFVTSDogUFVTSCxcbiAgUkVQTEFDRTogUkVQTEFDRSxcbiAgUE9QOiBQT1Bcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvb3BBc3luYyA9IGxvb3BBc3luYztcblxuZnVuY3Rpb24gbG9vcEFzeW5jKHR1cm5zLCB3b3JrLCBjYWxsYmFjaykge1xuICB2YXIgY3VycmVudFR1cm4gPSAwO1xuICB2YXIgaXNEb25lID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBpc0RvbmUgPSB0cnVlO1xuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGlmIChpc0RvbmUpIHJldHVybjtcblxuICAgIGlmIChjdXJyZW50VHVybiA8IHR1cm5zKSB7XG4gICAgICB3b3JrLmNhbGwodGhpcywgY3VycmVudFR1cm4rKywgbmV4dCwgZG9uZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59IiwiLyplc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zYXZlU3RhdGUgPSBzYXZlU3RhdGU7XG5leHBvcnRzLnJlYWRTdGF0ZSA9IHJlYWRTdGF0ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIEtleVByZWZpeCA9ICdAQEhpc3RvcnkvJztcbnZhciBRdW90YUV4Y2VlZGVkRXJyb3IgPSAnUXVvdGFFeGNlZWRlZEVycm9yJztcbnZhciBTZWN1cml0eUVycm9yID0gJ1NlY3VyaXR5RXJyb3InO1xuXG5mdW5jdGlvbiBjcmVhdGVLZXkoa2V5KSB7XG4gIHJldHVybiBLZXlQcmVmaXggKyBrZXk7XG59XG5cbmZ1bmN0aW9uIHNhdmVTdGF0ZShrZXksIHN0YXRlKSB7XG4gIHRyeSB7XG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oY3JlYXRlS2V5KGtleSksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcbiAgICAgIC8vIEJsb2NraW5nIGNvb2tpZXMgaW4gQ2hyb21lL0ZpcmVmb3gvU2FmYXJpIHRocm93cyBTZWN1cml0eUVycm9yIG9uIGFueVxuICAgICAgLy8gYXR0ZW1wdCB0byBhY2Nlc3Mgd2luZG93LnNlc3Npb25TdG9yYWdlLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFF1b3RhRXhjZWVkZWRFcnJvciAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBTYWZhcmkgXCJwcml2YXRlIG1vZGVcIiB0aHJvd3MgUXVvdGFFeGNlZWRlZEVycm9yLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGluIFNhZmFyaSBwcml2YXRlIG1vZGUnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRTdGF0ZShrZXkpIHtcbiAgdmFyIGpzb24gPSB1bmRlZmluZWQ7XG4gIHRyeSB7XG4gICAganNvbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNyZWF0ZUtleShrZXkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gU2VjdXJpdHlFcnJvcikge1xuICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG4gICAgICAvLyBhdHRlbXB0IHRvIGFjY2VzcyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHJlYWQgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIHNlY3VyaXR5IHNldHRpbmdzJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChqc29uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZ25vcmUgaW52YWxpZCBKU09OLlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XG5leHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyO1xuZXhwb3J0cy5nZXRIYXNoUGF0aCA9IGdldEhhc2hQYXRoO1xuZXhwb3J0cy5yZXBsYWNlSGFzaFBhdGggPSByZXBsYWNlSGFzaFBhdGg7XG5leHBvcnRzLmdldFdpbmRvd1BhdGggPSBnZXRXaW5kb3dQYXRoO1xuZXhwb3J0cy5nbyA9IGdvO1xuZXhwb3J0cy5nZXRVc2VyQ29uZmlybWF0aW9uID0gZ2V0VXNlckNvbmZpcm1hdGlvbjtcbmV4cG9ydHMuc3VwcG9ydHNIaXN0b3J5ID0gc3VwcG9ydHNIaXN0b3J5O1xuZXhwb3J0cy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoO1xuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgaWYgKG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdIHx8ICcnO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1BhdGgoKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0aW9uLmhhc2g7XG59XG5cbmZ1bmN0aW9uIGdvKG4pIHtcbiAgaWYgKG4pIHdpbmRvdy5oaXN0b3J5LmdvKG4pO1xufVxuXG5mdW5jdGlvbiBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JhY2t0L3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gRklYTUU6IFdvcmsgYXJvdW5kIG91ciBicm93c2VyIGhpc3Rvcnkgbm90IHdvcmtpbmcgY29ycmVjdGx5IG9uIENocm9tZVxuICAvLyBpT1M6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWNrdC9yZWFjdC1yb3V0ZXIvaXNzdWVzLzI1NjVcbiAgaWYgKHVhLmluZGV4T2YoJ0NyaU9TJykgIT09IC0xKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB1YS5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZXhwb3J0cy5jYW5Vc2VET00gPSBjYW5Vc2VET007IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX0RPTVN0YXRlU3RvcmFnZSA9IHJlcXVpcmUoJy4vRE9NU3RhdGVTdG9yYWdlJyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlRE9NSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlRE9NSGlzdG9yeSk7XG5cbnZhciBfcGFyc2VQYXRoID0gcmVxdWlyZSgnLi9wYXJzZVBhdGgnKTtcblxudmFyIF9wYXJzZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VQYXRoKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIEhUTUw1J3MgaGlzdG9yeSBBUElcbiAqIChwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudCkgdG8gbWFuYWdlIGhpc3RvcnkuXG4gKiBUaGlzIGlzIHRoZSByZWNvbW1lbmRlZCBtZXRob2Qgb2YgbWFuYWdpbmcgaGlzdG9yeSBpbiBicm93c2VycyBiZWNhdXNlXG4gKiBpdCBwcm92aWRlcyB0aGUgY2xlYW5lc3QgVVJMcy5cbiAqXG4gKiBOb3RlOiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBmdWxsXG4gKiBwYWdlIHJlbG9hZHMgd2lsbCBiZSB1c2VkIHRvIHByZXNlcnZlIFVSTHMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBmb3JjZVJlZnJlc2ggPSBvcHRpb25zLmZvcmNlUmVmcmVzaDtcblxuICB2YXIgaXNTdXBwb3J0ZWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KCk7XG4gIHZhciB1c2VSZWZyZXNoID0gIWlzU3VwcG9ydGVkIHx8IGZvcmNlUmVmcmVzaDtcblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlIHx8IHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuXG4gICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0V2luZG93UGF0aCgpO1xuICAgIHZhciBfaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlO1xuICAgIHZhciBrZXkgPSBfaGlzdG9yeVN0YXRlLmtleTtcblxuICAgIHZhciBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cbiAgICAgIGlmIChpc1N1cHBvcnRlZCkgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKF9leHRlbmRzKHt9LCBoaXN0b3J5U3RhdGUsIHsga2V5OiBrZXkgfSksIG51bGwsIHBhdGgpO1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9wYXJzZVBhdGgyWydkZWZhdWx0J10ocGF0aCk7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydFBvcFN0YXRlTGlzdGVuZXIoX3JlZikge1xuICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25UbztcblxuICAgIGZ1bmN0aW9uIHBvcFN0YXRlTGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG5cbiAgICAgIHRyYW5zaXRpb25UbyhnZXRDdXJyZW50TG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgICB9XG5cbiAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ3BvcHN0YXRlJywgcG9wU3RhdGVMaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcbiAgICB2YXIgYmFzZW5hbWUgPSBsb2NhdGlvbi5iYXNlbmFtZTtcbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gbG9jYXRpb24uYWN0aW9uO1xuICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXk7XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblxuICAgIF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlKGtleSwgc3RhdGUpO1xuXG4gICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHZhciBoaXN0b3J5U3RhdGUgPSB7XG4gICAgICBrZXk6IGtleVxuICAgIH07XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBpZiAodXNlUmVmcmVzaCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGg7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBsb2NhdGlvbiB1cGRhdGUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJFUExBQ0VcbiAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHBhdGgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcbiAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcbiAgfSkpO1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcbiAgICAgIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICBoaXN0b3J5LnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaGlzdG9yeS51bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cbiAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayxcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9va1xuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9ET01VdGlscyA9IHJlcXVpcmUoJy4vRE9NVXRpbHMnKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIaXN0b3J5KTtcblxuZnVuY3Rpb24gY3JlYXRlRE9NSGlzdG9yeShvcHRpb25zKSB7XG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe1xuICAgIGdldFVzZXJDb25maXJtYXRpb246IF9ET01VdGlscy5nZXRVc2VyQ29uZmlybWF0aW9uXG4gIH0sIG9wdGlvbnMsIHtcbiAgICBnbzogX0RPTVV0aWxzLmdvXG4gIH0pKTtcblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnRE9NIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgIGxpc3RlbjogbGlzdGVuXG4gIH0pO1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVET01IaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLy9pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJ1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfZGVlcEVxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xuXG52YXIgX2RlZXBFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXF1YWwpO1xuXG52YXIgX0FzeW5jVXRpbHMgPSByZXF1aXJlKCcuL0FzeW5jVXRpbHMnKTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24yID0gcmVxdWlyZSgnLi9jcmVhdGVMb2NhdGlvbicpO1xuXG52YXIgX2NyZWF0ZUxvY2F0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUxvY2F0aW9uMik7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSByZXF1aXJlKCcuL3J1blRyYW5zaXRpb25Ib29rJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXG52YXIgX3BhcnNlUGF0aCA9IHJlcXVpcmUoJy4vcGFyc2VQYXRoJyk7XG5cbnZhciBfcGFyc2VQYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlUGF0aCk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxuZnVuY3Rpb24gY3JlYXRlUmFuZG9tS2V5KGxlbmd0aCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmXG4gIC8vYS5hY3Rpb24gPT09IGIuYWN0aW9uICYmIC8vIERpZmZlcmVudCBhY3Rpb24gIT09IGxvY2F0aW9uIGNoYW5nZS5cbiAgYS5rZXkgPT09IGIua2V5ICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10oYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbnZhciBEZWZhdWx0S2V5TGVuZ3RoID0gNjtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IG9wdGlvbnMuZ2V0Q3VycmVudExvY2F0aW9uO1xuICB2YXIgZmluaXNoVHJhbnNpdGlvbiA9IG9wdGlvbnMuZmluaXNoVHJhbnNpdGlvbjtcbiAgdmFyIHNhdmVTdGF0ZSA9IG9wdGlvbnMuc2F2ZVN0YXRlO1xuICB2YXIgZ28gPSBvcHRpb25zLmdvO1xuICB2YXIga2V5TGVuZ3RoID0gb3B0aW9ucy5rZXlMZW5ndGg7XG4gIHZhciBnZXRVc2VyQ29uZmlybWF0aW9uID0gb3B0aW9ucy5nZXRVc2VyQ29uZmlybWF0aW9uO1xuXG4gIGlmICh0eXBlb2Yga2V5TGVuZ3RoICE9PSAnbnVtYmVyJykga2V5TGVuZ3RoID0gRGVmYXVsdEtleUxlbmd0aDtcblxuICB2YXIgdHJhbnNpdGlvbkhvb2tzID0gW107XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICB0cmFuc2l0aW9uSG9va3MucHVzaChob29rKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxLZXlzID0gW107XG4gIHZhciBjaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIGxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAmJiBwZW5kaW5nTG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHtcbiAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YocGVuZGluZ0xvY2F0aW9uLmtleSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGFsbEtleXMuaW5kZXhPZihsb2NhdGlvbi5rZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb24obmV3TG9jYXRpb24pIHtcbiAgICB2YXIgY3VycmVudCA9IGdldEN1cnJlbnQoKTtcblxuICAgIGxvY2F0aW9uID0gbmV3TG9jYXRpb247XG5cbiAgICBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBhbGxLZXlzID0gW10uY29uY2F0KGFsbEtleXMuc2xpY2UoMCwgY3VycmVudCArIDEpLCBbbG9jYXRpb24ua2V5XSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlJFUExBQ0UpIHtcbiAgICAgIGFsbEtleXNbY3VycmVudF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgfVxuXG4gICAgY2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcihsb2NhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBjaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9sb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgYWxsS2V5cyA9IFtfbG9jYXRpb24ua2V5XTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKF9sb2NhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZUxpc3RlbmVycyA9IGNoYW5nZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgX0FzeW5jVXRpbHMubG9vcEFzeW5jKHRyYW5zaXRpb25Ib29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKHRyYW5zaXRpb25Ib29rc1tpbmRleF0sIGxvY2F0aW9uLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGRvbmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAoZ2V0VXNlckNvbmZpcm1hdGlvbiAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgICBjYWxsYmFjayhvayAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwZW5kaW5nTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiAmJiBsb2NhdGlvbnNBcmVFcXVhbChsb2NhdGlvbiwgbmV4dExvY2F0aW9uKSkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xuXG4gICAgY29uZmlybVRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gbmV4dExvY2F0aW9uKSByZXR1cm47IC8vIFRyYW5zaXRpb24gd2FzIGludGVycnVwdGVkLlxuXG4gICAgICBpZiAob2spIHtcbiAgICAgICAgLy8gdHJlYXQgUFVTSCB0byBjdXJyZW50IHBhdGggbGlrZSBSRVBMQUNFIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBicm93c2Vyc1xuICAgICAgICBpZiAobmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgICAgIHZhciBwcmV2UGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgICAgIHZhciBuZXh0UGF0aCA9IGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKTtcblxuICAgICAgICAgIGlmIChuZXh0UGF0aCA9PT0gcHJldlBhdGgpIG5leHRMb2NhdGlvbi5hY3Rpb24gPSBfQWN0aW9ucy5SRVBMQUNFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbmlzaFRyYW5zaXRpb24obmV4dExvY2F0aW9uKSAhPT0gZmFsc2UpIHVwZGF0ZUxvY2F0aW9uKG5leHRMb2NhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uICYmIG5leHRMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkge1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobmV4dExvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEgJiYgbmV4dEluZGV4ICE9PSAtMSkgZ28ocHJldkluZGV4IC0gbmV4dEluZGV4KTsgLy8gUmVzdG9yZSB0aGUgVVJMLlxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUFVTSCwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICB0cmFuc2l0aW9uVG8oY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UsIGNyZWF0ZUtleSgpKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBjcmVhdGVSYW5kb21LZXkoa2V5TGVuZ3RoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24gPT0gbnVsbCB8fCB0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSByZXR1cm4gbG9jYXRpb247XG5cbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuICAgIHZhciByZXN1bHQgPSBwYXRobmFtZTtcblxuICAgIGlmIChzZWFyY2gpIHJlc3VsdCArPSBzZWFyY2g7XG5cbiAgICBpZiAoaGFzaCkgcmVzdWx0ICs9IGhhc2g7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gY3JlYXRlS2V5KCkgOiBhcmd1bWVudHNbMl07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vd2FybmluZyhcbiAgICAgIC8vICBmYWxzZSxcbiAgICAgIC8vICAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArXG4gICAgICAvLyAgJ2xvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCdcbiAgICAgIC8vKVxuXG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfcGFyc2VQYXRoMlsnZGVmYXVsdCddKGxvY2F0aW9uKTtcblxuICAgICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IGFjdGlvbiB9KTtcblxuICAgICAgYWN0aW9uID0ga2V5O1xuICAgICAga2V5ID0gYXJndW1lbnRzWzNdIHx8IGNyZWF0ZUtleSgpO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlTG9jYXRpb24zWydkZWZhdWx0J10obG9jYXRpb24sIGFjdGlvbiwga2V5KTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShnZXRDdXJyZW50TG9jYXRpb24oKSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKSB7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24uc3RhdGUsIHN0YXRlKTtcbiAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICh0cmFuc2l0aW9uSG9va3MuaW5kZXhPZihob29rKSA9PT0gLTEpIHRyYW5zaXRpb25Ib29rcy5wdXNoKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIHRyYW5zaXRpb25Ib29rcyA9IHRyYW5zaXRpb25Ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcblxuICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcblxuICAgIHJlcGxhY2UoX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICBsaXN0ZW46IGxpc3RlbixcbiAgICB0cmFuc2l0aW9uVG86IHRyYW5zaXRpb25UbyxcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNyZWF0ZUtleTogY3JlYXRlS2V5LFxuICAgIGNyZWF0ZVBhdGg6IGNyZWF0ZVBhdGgsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cbiAgICBzZXRTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShzZXRTdGF0ZSwgJ3NldFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsb2NhdGlvbi5rZXkgdG8gc2F2ZSBzdGF0ZSBpbnN0ZWFkJyksXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZWdpc3RlclRyYW5zaXRpb25Ib29rLCAncmVnaXN0ZXJUcmFuc2l0aW9uSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgbGlzdGVuQmVmb3JlIGluc3RlYWQnKSxcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10odW5yZWdpc3RlclRyYW5zaXRpb25Ib29rLCAndW5yZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSB0aGUgY2FsbGJhY2sgcmV0dXJuZWQgZnJvbSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuICAgIHJlcGxhY2VTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZXBsYWNlU3RhdGUsICdyZXBsYWNlU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHJlcGxhY2UgaW5zdGVhZCcpXG4gIH07XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvL2ltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfcGFyc2VQYXRoID0gcmVxdWlyZSgnLi9wYXJzZVBhdGgnKTtcblxudmFyIF9wYXJzZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VQYXRoKTtcblxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oKSB7XG4gIHZhciBsb2NhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcvJyA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IF9BY3Rpb25zLlBPUCA6IGFyZ3VtZW50c1sxXTtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMl07XG5cbiAgdmFyIF9mb3VydGhBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzNdO1xuXG4gIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9wYXJzZVBhdGgyWydkZWZhdWx0J10obG9jYXRpb24pO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIC8vd2FybmluZyhcbiAgICAvLyAgZmFsc2UsXG4gICAgLy8gICdUaGUgc3RhdGUgKDJuZCkgYXJndW1lbnQgdG8gY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArXG4gICAgLy8gICdsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnXG4gICAgLy8pXG5cbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgYWN0aW9uID0ga2V5IHx8IF9BY3Rpb25zLlBPUDtcbiAgICBrZXkgPSBfZm91cnRoQXJnO1xuICB9XG5cbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggfHwgJyc7XG4gIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlIHx8IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCxcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAga2V5OiBrZXlcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlTG9jYXRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvL2ltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnXG5cblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gZGVwcmVjYXRlKGZuKSB7XG4gIHJldHVybiBmbjtcbiAgLy9yZXR1cm4gZnVuY3Rpb24gKCkge1xuICAvLyAgd2FybmluZyhmYWxzZSwgJ1toaXN0b3J5XSAnICsgbWVzc2FnZSlcbiAgLy8gIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIC8vfVxufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlcHJlY2F0ZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBleHRyYWN0UGF0aChzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gc3RyaW5nLm1hdGNoKC9eaHR0cHM/OlxcL1xcL1teXFwvXSovKTtcblxuICBpZiAobWF0Y2ggPT0gbnVsbCkgcmV0dXJuIHN0cmluZztcblxuICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGV4dHJhY3RQYXRoO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfZXh0cmFjdFBhdGggPSByZXF1aXJlKCcuL2V4dHJhY3RQYXRoJyk7XG5cbnZhciBfZXh0cmFjdFBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdFBhdGgpO1xuXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBfZXh0cmFjdFBhdGgyWydkZWZhdWx0J10ocGF0aCk7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocGF0aCA9PT0gcGF0aG5hbWUsICdBIHBhdGggbXVzdCBiZSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2ggb25seSwgbm90IGEgZnVsbHkgcXVhbGlmaWVkIFVSTCBsaWtlIFwiJXNcIicsIHBhdGgpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIGlmIChwYXRobmFtZSA9PT0gJycpIHBhdGhuYW1lID0gJy8nO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2hcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gcGFyc2VQYXRoO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9vayhob29rLCBsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlc3VsdCA9IGhvb2sobG9jYXRpb24sIGNhbGxiYWNrKTtcblxuICBpZiAoaG9vay5sZW5ndGggPCAyKSB7XG4gICAgLy8gQXNzdW1lIHRoZSBob29rIHJ1bnMgc3luY2hyb25vdXNseSBhbmQgYXV0b21hdGljYWxseVxuICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIHdpdGggdGhlIHJldHVybiB2YWx1ZS5cbiAgICBjYWxsYmFjayhyZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShyZXN1bHQgPT09IHVuZGVmaW5lZCwgJ1lvdSBzaG91bGQgbm90IFwicmV0dXJuXCIgaW4gYSB0cmFuc2l0aW9uIGhvb2sgd2l0aCBhIGNhbGxiYWNrIGFyZ3VtZW50OyBjYWxsIHRoZSBjYWxsYmFjayBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gcnVuVHJhbnNpdGlvbkhvb2s7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIl19"}